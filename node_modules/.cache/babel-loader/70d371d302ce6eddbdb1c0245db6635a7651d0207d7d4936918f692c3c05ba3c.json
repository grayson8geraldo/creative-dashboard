{"ast":null,"code":"import _objectSpread from\"/Users/gruppav/Desktop/creative-dashboard/\\u043A\\u043E\\u043F\\u0438\\u044F/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import React,{useState,useEffect,useMemo,useCallback}from'react';// 1. Import useCallback\nimport{Play,Pause,Eye,Users,Target,Filter,Search,RefreshCw,BarChart3,AlertCircle,Settings,Save,X}from'lucide-react';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";function App(){const[searchTerm,setSearchTerm]=useState('');const[statusFilter,setStatusFilter]=useState('all');const[accountFilter,setAccountFilter]=useState('all');const[performanceFilter,setPerformanceFilter]=useState('all');const[projectFilter,setProjectFilter]=useState('all');const[dashboardData,setDashboardData]=useState(null);const[loading,setLoading]=useState(false);const[error,setError]=useState(null);const[lastUpdate,setLastUpdate]=useState(null);const[showConfig,setShowConfig]=useState(false);const[config,setConfig]=useState(()=>{const saved=localStorage.getItem('dashboardConfig');if(saved){return JSON.parse(saved);}return{SnellCoin:{name:'SnellCoin',emoji:'🪙',url:'',gid:'0'},EarnTube:{name:'EarnTube',emoji:'📺',url:'',gid:''}};});const[tempConfig,setTempConfig]=useState(config);const isConfigured=useMemo(()=>{return Object.values(config).every(project=>project.url&&project.gid!=='');},[config]);const GOOGLE_SHEETS_URLS=useMemo(()=>{const urls={};Object.entries(config).forEach(_ref=>{let[key,project]=_ref;if(project.url&&project.gid!==''){urls[key]=\"\".concat(project.url,\"/export?format=csv&gid=\").concat(project.gid);}});return urls;},[config]);const saveConfig=()=>{setConfig(tempConfig);localStorage.setItem('dashboardConfig',JSON.stringify(tempConfig));setShowConfig(false);};const resetConfig=()=>{setTempConfig(config);setShowConfig(false);};const handleUrlChange=(project,value)=>{let processedUrl=value;const match=value.match(/\\/spreadsheets\\/d\\/([a-zA-Z0-9-_]+)/);if(match&&match[1]){processedUrl=\"https://docs.google.com/spreadsheets/d/\".concat(match[1]);}else if(value&&!value.includes('docs.google.com')&&value.length>20){processedUrl=\"https://docs.google.com/spreadsheets/d/\".concat(value);}setTempConfig(prev=>_objectSpread(_objectSpread({},prev),{},{[project]:_objectSpread(_objectSpread({},prev[project]),{},{url:processedUrl})}));};const loadSheetData=async(project,url)=>{const response=await fetch(url+'&timestamp='+Date.now());if(!response.ok)throw new Error(\"HTTP error for \".concat(project,\": \").concat(response.status));const csvData=await response.text();if(!csvData||csvData.trim().startsWith(\"<!DOCTYPE html>\")){throw new Error(\"Received invalid data for \".concat(project,\" (likely HTML page)\"));}return csvData;};const processSheetData=(csvData,project)=>{var _data;const rows=csvData.split('\\n');const headers=rows[0].split(',').map(h=>h.trim().replace(/\"/g,''));const data=rows.slice(1).map(rowStr=>{const values=rowStr.split(',');const row={};headers.forEach((header,index)=>{let value=values[index]?values[index].trim().replace(/\"/g,''):'';row[header]=header.includes('Users_')?parseInt(value)||0:value;});return row;}).filter(row=>row.Date);const accountColumns=headers.filter(h=>h.startsWith('Account_')).length;if(accountColumns===0)throw new Error(\"No account columns found for \".concat(project));const creativeHistory={};const accounts=new Set();data.forEach(row=>{for(let i=1;i<=accountColumns;i++){const account=row[\"Account_\".concat(i)];const creative=row[\"Creative_\".concat(i)];const users=row[\"Users_\".concat(i)]||0;if(account&&creative){accounts.add(account);if(!creativeHistory[creative]){creativeHistory[creative]={totalUsers:0,accounts:new Set(),history:[],project};}creativeHistory[creative].totalUsers+=users;creativeHistory[creative].accounts.add(account);creativeHistory[creative].history.push({date:row.Date,account,users});}}});Object.values(creativeHistory).forEach(ch=>{const uniqueDates=new Set(ch.history.map(h=>h.date));ch.daysActive=uniqueDates.size;ch.avgUsersPerDay=ch.daysActive>0?Math.round(ch.totalUsers/ch.daysActive*10)/10:0;});const latestDate=(_data=data[data.length-1])===null||_data===void 0?void 0:_data.Date;const lastDateRow=data.find(row=>row.Date===latestDate);const activeCreativesOnLastDate=[];if(lastDateRow){for(let i=1;i<=accountColumns;i++){const creative=lastDateRow[\"Creative_\".concat(i)];if(creative){activeCreativesOnLastDate.push({creative,account:lastDateRow[\"Account_\".concat(i)],users:lastDateRow[\"Users_\".concat(i)]||0,project});}}}return{latestDate,creativeHistory,accounts:[...accounts],activeCreativesOnLastDate,accountColumns};};// 2. Wrap loadData in useCallback\nconst loadData=useCallback(async()=>{if(!isConfigured)return;setLoading(true);setError(null);try{const projectDataEntries=await Promise.all(Object.entries(GOOGLE_SHEETS_URLS).map(async _ref2=>{let[project,url]=_ref2;const csvData=await loadSheetData(project,url);return[project,processSheetData(csvData,project)];}));const processedProjects=Object.fromEntries(projectDataEntries);const allCreativeHistory=Object.values(processedProjects).reduce((acc,p)=>_objectSpread(_objectSpread({},acc),p.creativeHistory),{});const allUniqueCreatives=Object.keys(allCreativeHistory);const allAccounts=[...new Set(Object.values(processedProjects).flatMap(p=>p.accounts))];const allActiveCreatives=Object.values(processedProjects).flatMap(p=>p.activeCreativesOnLastDate);const combinedLatestDate=Object.values(processedProjects).map(p=>p.latestDate).filter(Boolean).sort().reverse()[0];const creativeAnalytics=allUniqueCreatives.map(creativeName=>{const history=allCreativeHistory[creativeName];const activeInstances=allActiveCreatives.filter(c=>c.creative===creativeName);const isActive=activeInstances.length>0;const currentUsers=isActive?activeInstances.reduce((sum,item)=>sum+item.users,0):0;let performance='medium';if(history.totalUsers>200)performance='high';else if(history.totalUsers<=50&&history.accounts.size>3&&history.avgUsersPerDay<2)performance='low';return{id:creativeName.replace(/[^a-zA-Z0-9]/g,'_'),creative:creativeName,status:isActive?'active':'free',totalUsers:history.totalUsers,currentUsers,daysActive:history.daysActive,accounts:[...history.accounts],currentAccounts:activeInstances,avgUsersPerDay:history.avgUsersPerDay,performance,project:history.project};}).sort((a,b)=>{if(a.status!==b.status)return a.status==='active'?-1:1;if(a.status==='active')return b.currentUsers-a.currentUsers;return b.totalUsers-a.totalUsers;});const projectStats={};Object.keys(processedProjects).forEach(projectKey=>{projectStats[projectKey]={totalCreatives:creativeAnalytics.filter(c=>c.project===projectKey).length,activeCreatives:creativeAnalytics.filter(c=>c.status==='active'&&c.project===projectKey).length,totalUsers:creativeAnalytics.filter(c=>c.project===projectKey).reduce((sum,c)=>sum+c.totalUsers,0),currentUsers:allActiveCreatives.filter(item=>item.project===projectKey).reduce((sum,item)=>sum+item.users,0),totalAccounts:processedProjects[projectKey].accounts.length};});const activeCount=creativeAnalytics.filter(c=>c.status==='active').length;setDashboardData({latestDate:combinedLatestDate,creativeAnalytics,allAccounts,projectStats,summary:{totalCreatives:allUniqueCreatives.length,activeCreatives:activeCount,freeCreatives:allUniqueCreatives.length-activeCount,totalAccounts:allAccounts.length,accountColumns:Object.values(processedProjects).reduce((sum,p)=>sum+p.accountColumns,0),totalUsersAllTime:creativeAnalytics.reduce((sum,c)=>sum+c.totalUsers,0),totalCurrentUsers:creativeAnalytics.reduce((sum,c)=>sum+c.currentUsers,0)}});setLastUpdate(new Date().toLocaleString('ru-RU'));}catch(err){console.error('❌ Critical loading error:',err);setError(err.message);}finally{setLoading(false);}},[isConfigured,GOOGLE_SHEETS_URLS]);// Dependencies for useCallback\n// 3. Add 'loadData' to the dependency array\nuseEffect(()=>{if(isConfigured){loadData();const interval=setInterval(loadData,12*60*60*1000);// 12 hours\nreturn()=>clearInterval(interval);}},[isConfigured,loadData]);const filteredCreatives=useMemo(()=>{if(!dashboardData)return[];return dashboardData.creativeAnalytics.filter(c=>(c.creative.toLowerCase().includes(searchTerm.toLowerCase())||c.accounts.some(acc=>acc.toLowerCase().includes(searchTerm.toLowerCase())))&&(statusFilter==='all'||c.status===statusFilter)&&(accountFilter==='all'||c.accounts.includes(accountFilter)||c.currentAccounts.some(acc=>acc.account===accountFilter))&&(performanceFilter==='all'||c.performance===performanceFilter)&&(projectFilter==='all'||c.project===projectFilter));},[dashboardData,searchTerm,statusFilter,accountFilter,performanceFilter,projectFilter]);// --- RENDER LOGIC ---\nif(!isConfigured&&!showConfig){return/*#__PURE__*/_jsx(\"div\",{style:{minHeight:'100vh',background:'linear-gradient(135deg, #1f2937, #111827, #1f2937)',color:'white',display:'flex',alignItems:'center',justifyContent:'center'},children:/*#__PURE__*/_jsxs(\"div\",{style:{backgroundColor:'#374151',padding:'32px',borderRadius:'12px',boxShadow:'0 25px 50px -12px rgba(0, 0, 0, 0.25)',maxWidth:'672px',width:'100%',margin:'0 16px'},children:[/*#__PURE__*/_jsxs(\"div\",{style:{textAlign:'center',marginBottom:'32px'},children:[/*#__PURE__*/_jsx(Settings,{style:{width:'64px',height:'64px',color:'#60a5fa',margin:'0 auto 16px auto'}}),/*#__PURE__*/_jsx(\"h1\",{style:{fontSize:'30px',fontWeight:'bold',marginBottom:'8px'},children:\"\\u0414\\u043E\\u0431\\u0440\\u043E \\u043F\\u043E\\u0436\\u0430\\u043B\\u043E\\u0432\\u0430\\u0442\\u044C \\u0432 Multi-Project Dashboard\"}),/*#__PURE__*/_jsx(\"p\",{style:{color:'#9ca3af'},children:\"\\u041D\\u0430\\u0441\\u0442\\u0440\\u043E\\u0439\\u0442\\u0435 \\u0432\\u0430\\u0448\\u0438 Google \\u0422\\u0430\\u0431\\u043B\\u0438\\u0446\\u044B \\u0434\\u043B\\u044F \\u043D\\u0430\\u0447\\u0430\\u043B\\u0430 \\u0440\\u0430\\u0431\\u043E\\u0442\\u044B\"})]}),/*#__PURE__*/_jsxs(\"div\",{style:{marginBottom:'24px'},children:[/*#__PURE__*/_jsxs(\"div\",{style:{backgroundColor:'rgba(30, 58, 138, 0.3)',padding:'16px',borderRadius:'8px',border:'1px solid #2563eb',marginBottom:'24px'},children:[/*#__PURE__*/_jsx(\"h3\",{style:{fontWeight:'600',marginBottom:'8px'},children:\"\\uD83D\\uDCCB \\u0418\\u043D\\u0441\\u0442\\u0440\\u0443\\u043A\\u0446\\u0438\\u044F \\u043F\\u043E \\u043D\\u0430\\u0441\\u0442\\u0440\\u043E\\u0439\\u043A\\u0435:\"}),/*#__PURE__*/_jsxs(\"ol\",{style:{fontSize:'14px',color:'#d1d5db',lineHeight:'1.5',paddingLeft:'16px'},children:[/*#__PURE__*/_jsx(\"li\",{children:\"1. \\u041E\\u0442\\u043A\\u0440\\u043E\\u0439\\u0442\\u0435 \\u0432\\u0430\\u0448\\u0443 Google \\u0422\\u0430\\u0431\\u043B\\u0438\\u0446\\u0443 \\u0441 \\u0434\\u0430\\u043D\\u043D\\u044B\\u043C\\u0438 \\u043A\\u0440\\u0435\\u0430\\u0442\\u0438\\u0432\\u043E\\u0432\"}),/*#__PURE__*/_jsx(\"li\",{children:\"2. \\u0421\\u0434\\u0435\\u043B\\u0430\\u0439\\u0442\\u0435 \\u0435\\u0451 \\u043F\\u0443\\u0431\\u043B\\u0438\\u0447\\u043D\\u043E \\u0434\\u043E\\u0441\\u0442\\u0443\\u043F\\u043D\\u043E\\u0439 (\\u0414\\u043E\\u0441\\u0442\\u0443\\u043F \\u043F\\u043E \\u0441\\u0441\\u044B\\u043B\\u043A\\u0435)\"}),/*#__PURE__*/_jsx(\"li\",{children:\"3. \\u0421\\u043A\\u043E\\u043F\\u0438\\u0440\\u0443\\u0439\\u0442\\u0435 URL \\u0442\\u0430\\u0431\\u043B\\u0438\\u0446\\u044B \\u0438 \\u043D\\u0430\\u0439\\u0434\\u0438\\u0442\\u0435 GID \\u043A\\u0430\\u0436\\u0434\\u043E\\u0439 \\u0432\\u043A\\u043B\\u0430\\u0434\\u043A\\u0438\"}),/*#__PURE__*/_jsx(\"li\",{children:\"4. \\u041D\\u0430\\u0441\\u0442\\u0440\\u043E\\u0439\\u0442\\u0435 \\u0432\\u0430\\u0448\\u0438 \\u043F\\u0440\\u043E\\u0435\\u043A\\u0442\\u044B \\u043D\\u0438\\u0436\\u0435\"})]}),/*#__PURE__*/_jsxs(\"div\",{style:{marginTop:'12px',padding:'12px',backgroundColor:'rgba(34, 197, 94, 0.1)',borderRadius:'6px',border:'1px solid #22c55e'},children:[/*#__PURE__*/_jsx(\"p\",{style:{fontSize:'14px',color:'#22c55e',marginBottom:'8px',fontWeight:'500'},children:\"\\uD83D\\uDCD6 \\u041F\\u043E\\u0434\\u0440\\u043E\\u0431\\u043D\\u0430\\u044F \\u0438\\u043D\\u0441\\u0442\\u0440\\u0443\\u043A\\u0446\\u0438\\u044F:\"}),/*#__PURE__*/_jsx(\"a\",{href:\"https://docs.google.com/document/d/19d3df8PlQHD735yJjiVV9HhPWxP71NKnzIN84dn8LSg/edit?usp=sharing\",target:\"_blank\",rel:\"noopener noreferrer\",style:{color:'#22c55e',fontSize:'14px',textDecoration:'underline'},children:\"\\u041E\\u0442\\u043A\\u0440\\u044B\\u0442\\u044C \\u043F\\u043E\\u043B\\u043D\\u043E\\u0435 \\u0440\\u0443\\u043A\\u043E\\u0432\\u043E\\u0434\\u0441\\u0442\\u0432\\u043E \\u043F\\u043E \\u043D\\u0430\\u0441\\u0442\\u0440\\u043E\\u0439\\u043A\\u0435 \\u2192\"})]})]}),/*#__PURE__*/_jsxs(\"button\",{onClick:()=>setShowConfig(true),style:{width:'100%',backgroundColor:'#2563eb',color:'white',padding:'12px 24px',borderRadius:'8px',border:'none',fontSize:'16px',cursor:'pointer',display:'flex',alignItems:'center',justifyContent:'center',gap:'8px'},children:[/*#__PURE__*/_jsx(Settings,{style:{width:'16px',height:'16px'}}),\"\\u041D\\u0430\\u0441\\u0442\\u0440\\u043E\\u0438\\u0442\\u044C Google \\u0422\\u0430\\u0431\\u043B\\u0438\\u0446\\u044B\"]})]})]})});}if(loading&&!dashboardData){return/*#__PURE__*/_jsx(\"div\",{style:{minHeight:'100vh',background:'linear-gradient(135deg, #1f2937, #111827, #1f2937)',color:'white',display:'flex',alignItems:'center',justifyContent:'center'},children:/*#__PURE__*/_jsxs(\"div\",{style:{textAlign:'center'},children:[/*#__PURE__*/_jsx(RefreshCw,{style:{width:'48px',height:'48px',color:'#60a5fa',margin:'0 auto 16px auto',animation:'spin 1s linear infinite'}}),/*#__PURE__*/_jsx(\"p\",{style:{fontSize:'20px'},children:\"\\u0417\\u0430\\u0433\\u0440\\u0443\\u0437\\u043A\\u0430 \\u0434\\u0430\\u043D\\u043D\\u044B\\u0445 \\u0438\\u0437 Google \\u0422\\u0430\\u0431\\u043B\\u0438\\u0446...\"}),/*#__PURE__*/_jsx(\"p\",{style:{fontSize:'14px',color:'#9ca3af',marginTop:'8px'},children:\"\\u041F\\u043E\\u0434\\u043A\\u043B\\u044E\\u0447\\u0435\\u043D\\u0438\\u0435 \\u043A \\u043D\\u0430\\u0441\\u0442\\u0440\\u043E\\u0435\\u043D\\u043D\\u044B\\u043C \\u0442\\u0430\\u0431\\u043B\\u0438\\u0446\\u0430\\u043C\"})]})});}if(error){return/*#__PURE__*/_jsx(\"div\",{style:{minHeight:'100vh',background:'linear-gradient(135deg, #1f2937, #111827, #1f2937)',color:'white',display:'flex',alignItems:'center',justifyContent:'center'},children:/*#__PURE__*/_jsxs(\"div\",{style:{textAlign:'center'},children:[/*#__PURE__*/_jsx(AlertCircle,{style:{width:'64px',height:'64px',color:'#f87171',margin:'0 auto 16px auto'}}),/*#__PURE__*/_jsx(\"p\",{style:{fontSize:'20px',color:'#f87171'},children:\"\\u041E\\u0448\\u0438\\u0431\\u043A\\u0430 \\u043F\\u043E\\u0434\\u043A\\u043B\\u044E\\u0447\\u0435\\u043D\\u0438\\u044F\"}),/*#__PURE__*/_jsx(\"p\",{style:{color:'#9ca3af',marginBottom:'16px'},children:error}),/*#__PURE__*/_jsxs(\"div\",{style:{display:'flex',gap:'16px',justifyContent:'center'},children:[/*#__PURE__*/_jsxs(\"button\",{onClick:loadData,style:{backgroundColor:'#2563eb',color:'white',padding:'12px 24px',borderRadius:'8px',border:'none',cursor:'pointer',display:'flex',alignItems:'center',gap:'8px'},children:[/*#__PURE__*/_jsx(RefreshCw,{style:{width:'16px',height:'16px'}}),\"\\u041F\\u043E\\u043F\\u0440\\u043E\\u0431\\u043E\\u0432\\u0430\\u0442\\u044C \\u0441\\u043D\\u043E\\u0432\\u0430\"]}),/*#__PURE__*/_jsxs(\"button\",{onClick:()=>{setError(null);setShowConfig(true);},style:{backgroundColor:'#4b5563',color:'white',padding:'12px 24px',borderRadius:'8px',border:'none',cursor:'pointer',display:'flex',alignItems:'center',gap:'8px'},children:[/*#__PURE__*/_jsx(Settings,{style:{width:'16px',height:'16px'}}),\"\\u041D\\u0430\\u0441\\u0442\\u0440\\u043E\\u0438\\u0442\\u044C\"]})]})]})});}if(!dashboardData)return null;const stats=dashboardData.summary;return/*#__PURE__*/_jsxs(\"div\",{style:{minHeight:'100vh',background:'linear-gradient(135deg, #1f2937, #111827, #1f2937)',color:'white',padding:'24px'},children:[showConfig&&/*#__PURE__*/_jsx(\"div\",{style:{position:'fixed',top:0,left:0,right:0,bottom:0,backgroundColor:'rgba(0,0,0,0.5)',display:'flex',alignItems:'center',justifyContent:'center',zIndex:9999,padding:'16px'},children:/*#__PURE__*/_jsxs(\"div\",{style:{backgroundColor:'#374151',borderRadius:'12px',padding:'24px',maxWidth:'896px',width:'100%',maxHeight:'90vh',overflowY:'auto'},children:[/*#__PURE__*/_jsxs(\"div\",{style:{display:'flex',justifyContent:'space-between',alignItems:'center',marginBottom:'24px'},children:[/*#__PURE__*/_jsx(\"h2\",{style:{fontSize:'24px',fontWeight:'bold'},children:\"\\u041D\\u0430\\u0441\\u0442\\u0440\\u043E\\u0439\\u043A\\u0430 Google \\u0422\\u0430\\u0431\\u043B\\u0438\\u0446\"}),/*#__PURE__*/_jsx(\"button\",{onClick:resetConfig,style:{background:'none',border:'none',color:'#9ca3af',cursor:'pointer'},children:/*#__PURE__*/_jsx(X,{style:{width:'24px',height:'24px'}})})]}),/*#__PURE__*/_jsx(\"div\",{style:{marginBottom:'24px'},children:Object.entries(tempConfig).map(_ref3=>{let[projectKey,project]=_ref3;return/*#__PURE__*/_jsxs(\"div\",{style:{backgroundColor:'#4b5563',padding:'16px',borderRadius:'8px',marginBottom:'24px'},children:[/*#__PURE__*/_jsxs(\"div\",{style:{display:'flex',alignItems:'center',gap:'12px',marginBottom:'16px'},children:[/*#__PURE__*/_jsx(\"span\",{style:{fontSize:'24px'},children:project.emoji}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",placeholder:\"\\u041D\\u0430\\u0437\\u0432\\u0430\\u043D\\u0438\\u0435 \\u043F\\u0440\\u043E\\u0435\\u043A\\u0442\\u0430\",style:{backgroundColor:'#6b7280',color:'white',padding:'8px 12px',borderRadius:'4px',border:'none',fontWeight:'600'},value:project.name,onChange:e=>setTempConfig(prev=>_objectSpread(_objectSpread({},prev),{},{[projectKey]:_objectSpread(_objectSpread({},prev[projectKey]),{},{name:e.target.value})}))})]}),/*#__PURE__*/_jsxs(\"div\",{style:{marginBottom:'12px'},children:[/*#__PURE__*/_jsx(\"label\",{style:{display:'block',fontSize:'14px',fontWeight:'500',marginBottom:'8px'},children:\"URL Google \\u0422\\u0430\\u0431\\u043B\\u0438\\u0446\\u044B \\u0438\\u043B\\u0438 ID \\u0442\\u0430\\u0431\\u043B\\u0438\\u0446\\u044B:\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",placeholder:\"https://docs.google.com/spreadsheets/d/\\u0412\\u0410\\u0428_ID_\\u0422\\u0410\\u0411\\u041B\\u0418\\u0426\\u042B \\u0438\\u043B\\u0438 \\u0442\\u043E\\u043B\\u044C\\u043A\\u043E ID\",style:{width:'100%',backgroundColor:'#6b7280',color:'white',padding:'8px 12px',borderRadius:'4px',border:'none',boxSizing:'border-box'},value:project.url,onChange:e=>handleUrlChange(projectKey,e.target.value)}),/*#__PURE__*/_jsx(\"p\",{style:{fontSize:'12px',color:'#9ca3af',marginTop:'4px'},children:\"\\u0412\\u0441\\u0442\\u0430\\u0432\\u044C\\u0442\\u0435 \\u043F\\u043E\\u043B\\u043D\\u044B\\u0439 URL \\u0438\\u043B\\u0438 \\u0442\\u043E\\u043B\\u044C\\u043A\\u043E ID \\u0442\\u0430\\u0431\\u043B\\u0438\\u0446\\u044B\"})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{style:{display:'block',fontSize:'14px',fontWeight:'500',marginBottom:'8px'},children:\"GID \\u0432\\u043A\\u043B\\u0430\\u0434\\u043A\\u0438 (ID \\u0432\\u043A\\u043B\\u0430\\u0434\\u043A\\u0438):\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",placeholder:\"0 (\\u0434\\u043B\\u044F \\u043F\\u0435\\u0440\\u0432\\u043E\\u0439 \\u0432\\u043A\\u043B\\u0430\\u0434\\u043A\\u0438) \\u0438\\u043B\\u0438 \\u043A\\u043E\\u043D\\u043A\\u0440\\u0435\\u0442\\u043D\\u044B\\u0439 GID\",style:{width:'100%',backgroundColor:'#6b7280',color:'white',padding:'8px 12px',borderRadius:'4px',border:'none',boxSizing:'border-box'},value:project.gid,onChange:e=>setTempConfig(prev=>_objectSpread(_objectSpread({},prev),{},{[projectKey]:_objectSpread(_objectSpread({},prev[projectKey]),{},{gid:e.target.value})}))}),/*#__PURE__*/_jsx(\"p\",{style:{fontSize:'12px',color:'#9ca3af',marginTop:'4px'},children:\"\\u041D\\u0430\\u0439\\u0434\\u0438\\u0442\\u0435 \\u0432 URL \\u043F\\u0440\\u0438 \\u043F\\u0440\\u043E\\u0441\\u043C\\u043E\\u0442\\u0440\\u0435 \\u043A\\u043E\\u043D\\u043A\\u0440\\u0435\\u0442\\u043D\\u043E\\u0439 \\u0432\\u043A\\u043B\\u0430\\u0434\\u043A\\u0438: #gid=123456789\"})]})]},projectKey);})}),/*#__PURE__*/_jsxs(\"div\",{style:{display:'flex',gap:'16px'},children:[/*#__PURE__*/_jsxs(\"button\",{onClick:saveConfig,style:{flex:1,backgroundColor:'#2563eb',color:'white',padding:'12px 24px',borderRadius:'8px',border:'none',cursor:'pointer',display:'flex',alignItems:'center',justifyContent:'center',gap:'8px'},children:[/*#__PURE__*/_jsx(Save,{style:{width:'16px',height:'16px'}}),\"\\u0421\\u043E\\u0445\\u0440\\u0430\\u043D\\u0438\\u0442\\u044C \\u043D\\u0430\\u0441\\u0442\\u0440\\u043E\\u0439\\u043A\\u0438\"]}),/*#__PURE__*/_jsx(\"button\",{onClick:resetConfig,style:{padding:'12px 24px',backgroundColor:'#6b7280',color:'white',borderRadius:'8px',border:'none',cursor:'pointer'},children:\"\\u041E\\u0442\\u043C\\u0435\\u043D\\u0430\"})]})]})}),/*#__PURE__*/_jsx(\"div\",{style:{marginBottom:'32px'},children:/*#__PURE__*/_jsxs(\"div\",{style:{display:'flex',alignItems:'center',justifyContent:'space-between',marginBottom:'24px'},children:[/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"h1\",{style:{fontSize:'36px',fontWeight:'bold',background:'linear-gradient(to right, #60a5fa, #a78bfa)',WebkitBackgroundClip:'text',WebkitTextFillColor:'transparent',backgroundClip:'text'},children:\"Multi-Project Creative Analytics Dashboard\"}),/*#__PURE__*/_jsxs(\"div\",{style:{display:'flex',alignItems:'center',gap:'16px',marginTop:'8px'},children:[/*#__PURE__*/_jsxs(\"p\",{style:{color:'#9ca3af'},children:[\"\\uD83D\\uDCC5 \\u041F\\u043E\\u0441\\u043B\\u0435\\u0434\\u043D\\u044F\\u044F \\u0434\\u0430\\u0442\\u0430: \",/*#__PURE__*/_jsx(\"span\",{style:{fontWeight:'600',color:'white'},children:dashboardData.latestDate}),\" | \\uD83D\\uDCCA \",stats.totalCreatives,\" \\u043A\\u0440\\u0435\\u0430\\u0442\\u0438\\u0432\\u043E\\u0432 | \\uD83C\\uDFE2 \",stats.totalAccounts,\" \\u0430\\u043A\\u043A\\u0430\\u0443\\u043D\\u0442\\u043E\\u0432 | \\uD83D\\uDCCB \",stats.accountColumns,\" \\u043A\\u043E\\u043B\\u043E\\u043D\\u043E\\u043A \\u0434\\u0430\\u043D\\u043D\\u044B\\u0445\"]}),/*#__PURE__*/_jsxs(\"div\",{style:{display:'flex',alignItems:'center',gap:'8px'},children:[/*#__PURE__*/_jsx(\"button\",{onClick:()=>setProjectFilter('all'),style:{padding:'4px 12px',borderRadius:'20px',fontSize:'12px',fontWeight:'500',border:'none',cursor:'pointer',backgroundColor:projectFilter==='all'?'#2563eb':'#4b5563',color:'white'},children:\"\\uD83D\\uDCCA \\u0412\\u0441\\u0435 \\u043F\\u0440\\u043E\\u0435\\u043A\\u0442\\u044B\"}),Object.entries(config).map(_ref4=>{var _dashboardData$projec;let[projectKey,project]=_ref4;return/*#__PURE__*/_jsxs(\"button\",{onClick:()=>setProjectFilter(projectKey),style:{padding:'4px 12px',borderRadius:'20px',fontSize:'12px',fontWeight:'500',border:'none',cursor:'pointer',backgroundColor:projectFilter===projectKey?'#059669':'#4b5563',color:'white'},children:[project.emoji,\" \",project.name,\" (\",((_dashboardData$projec=dashboardData.projectStats[projectKey])===null||_dashboardData$projec===void 0?void 0:_dashboardData$projec.activeCreatives)||0,\")\"]},projectKey);})]})]}),lastUpdate&&/*#__PURE__*/_jsxs(\"p\",{style:{fontSize:'12px',color:'#6b7280',marginTop:'4px'},children:[\"\\uD83D\\uDD04 \\u041F\\u043E\\u0441\\u043B\\u0435\\u0434\\u043D\\u0435\\u0435 \\u043E\\u0431\\u043D\\u043E\\u0432\\u043B\\u0435\\u043D\\u0438\\u0435: \",lastUpdate]})]}),/*#__PURE__*/_jsxs(\"div\",{style:{display:'flex',alignItems:'center',gap:'16px'},children:[/*#__PURE__*/_jsxs(\"button\",{onClick:()=>setShowConfig(true),style:{backgroundColor:'#6b7280',color:'white',padding:'8px 16px',borderRadius:'8px',border:'none',cursor:'pointer',display:'flex',alignItems:'center',gap:'8px'},children:[/*#__PURE__*/_jsx(Settings,{style:{width:'16px',height:'16px'}}),\"\\u041D\\u0430\\u0441\\u0442\\u0440\\u043E\\u0438\\u0442\\u044C\"]}),/*#__PURE__*/_jsxs(\"div\",{style:{textAlign:'right'},children:[/*#__PURE__*/_jsx(\"div\",{style:{fontSize:'14px',color:'#9ca3af'},children:\"\\u0421\\u0438\\u043D\\u0445\\u0440\\u043E\\u043D\\u0438\\u0437\\u0430\\u0446\\u0438\\u044F \\u0441 Google \\u0422\\u0430\\u0431\\u043B\\u0438\\u0446\\u0430\\u043C\\u0438\"}),/*#__PURE__*/_jsx(\"div\",{style:{fontSize:'18px',fontWeight:'600',color:'#10b981'},children:loading?'Обновление...':'✓ Подключено'})]}),/*#__PURE__*/_jsxs(\"button\",{onClick:loadData,disabled:loading,style:{backgroundColor:loading?'#6b7280':'#2563eb',color:'white',padding:'8px 16px',borderRadius:'8px',border:'none',cursor:loading?'not-allowed':'pointer',display:'flex',alignItems:'center',gap:'8px'},children:[/*#__PURE__*/_jsx(RefreshCw,{style:{width:'16px',height:'16px',animation:loading?'spin 1s linear infinite':'none'}}),\"\\u041E\\u0431\\u043D\\u043E\\u0432\\u0438\\u0442\\u044C\"]})]})]})}),/*#__PURE__*/_jsx(\"div\",{style:{backgroundColor:'#374151',borderRadius:'12px',boxShadow:'0 10px 15px -3px rgba(0, 0, 0, 0.1)',overflow:'hidden'}})]});}export default App;","map":{"version":3,"names":["React","useState","useEffect","useMemo","useCallback","Play","Pause","Eye","Users","Target","Filter","Search","RefreshCw","BarChart3","AlertCircle","Settings","Save","X","jsx","_jsx","jsxs","_jsxs","App","searchTerm","setSearchTerm","statusFilter","setStatusFilter","accountFilter","setAccountFilter","performanceFilter","setPerformanceFilter","projectFilter","setProjectFilter","dashboardData","setDashboardData","loading","setLoading","error","setError","lastUpdate","setLastUpdate","showConfig","setShowConfig","config","setConfig","saved","localStorage","getItem","JSON","parse","SnellCoin","name","emoji","url","gid","EarnTube","tempConfig","setTempConfig","isConfigured","Object","values","every","project","GOOGLE_SHEETS_URLS","urls","entries","forEach","_ref","key","concat","saveConfig","setItem","stringify","resetConfig","handleUrlChange","value","processedUrl","match","includes","length","prev","_objectSpread","loadSheetData","response","fetch","Date","now","ok","Error","status","csvData","text","trim","startsWith","processSheetData","_data","rows","split","headers","map","h","replace","data","slice","rowStr","row","header","index","parseInt","filter","accountColumns","creativeHistory","accounts","Set","i","account","creative","users","add","totalUsers","history","push","date","ch","uniqueDates","daysActive","size","avgUsersPerDay","Math","round","latestDate","lastDateRow","find","activeCreativesOnLastDate","loadData","projectDataEntries","Promise","all","_ref2","processedProjects","fromEntries","allCreativeHistory","reduce","acc","p","allUniqueCreatives","keys","allAccounts","flatMap","allActiveCreatives","combinedLatestDate","Boolean","sort","reverse","creativeAnalytics","creativeName","activeInstances","c","isActive","currentUsers","sum","item","performance","id","currentAccounts","a","b","projectStats","projectKey","totalCreatives","activeCreatives","totalAccounts","activeCount","summary","freeCreatives","totalUsersAllTime","totalCurrentUsers","toLocaleString","err","console","message","interval","setInterval","clearInterval","filteredCreatives","toLowerCase","some","style","minHeight","background","color","display","alignItems","justifyContent","children","backgroundColor","padding","borderRadius","boxShadow","maxWidth","width","margin","textAlign","marginBottom","height","fontSize","fontWeight","border","lineHeight","paddingLeft","marginTop","href","target","rel","textDecoration","onClick","cursor","gap","animation","stats","position","top","left","right","bottom","zIndex","maxHeight","overflowY","_ref3","type","placeholder","onChange","e","boxSizing","flex","WebkitBackgroundClip","WebkitTextFillColor","backgroundClip","_ref4","_dashboardData$projec","disabled","overflow"],"sources":["/Users/gruppav/Desktop/creative-dashboard/копия/src/App.js"],"sourcesContent":["import React, { useState, useEffect, useMemo, useCallback } from 'react'; // 1. Import useCallback\nimport { Play, Pause, Eye, Users, Target, Filter, Search, RefreshCw, BarChart3, AlertCircle, Settings, Save, X } from 'lucide-react';\n\nfunction App() {\n  const [searchTerm, setSearchTerm] = useState('');\n  const [statusFilter, setStatusFilter] = useState('all');\n  const [accountFilter, setAccountFilter] = useState('all');\n  const [performanceFilter, setPerformanceFilter] = useState('all');\n  const [projectFilter, setProjectFilter] = useState('all');\n\n  const [dashboardData, setDashboardData] = useState(null);\n  const [loading, setLoading] = useState(false);\n  const [error, setError] = useState(null);\n  const [lastUpdate, setLastUpdate] = useState(null);\n  const [showConfig, setShowConfig] = useState(false);\n\n  const [config, setConfig] = useState(() => {\n    const saved = localStorage.getItem('dashboardConfig');\n    if (saved) {\n      return JSON.parse(saved);\n    }\n    return {\n      SnellCoin: { name: 'SnellCoin', emoji: '🪙', url: '', gid: '0' },\n      EarnTube: { name: 'EarnTube', emoji: '📺', url: '', gid: '' }\n    };\n  });\n\n  const [tempConfig, setTempConfig] = useState(config);\n\n  const isConfigured = useMemo(() => {\n    return Object.values(config).every(project => project.url && project.gid !== '');\n  }, [config]);\n\n  const GOOGLE_SHEETS_URLS = useMemo(() => {\n    const urls = {};\n    Object.entries(config).forEach(([key, project]) => {\n      if (project.url && project.gid !== '') {\n        urls[key] = `${project.url}/export?format=csv&gid=${project.gid}`;\n      }\n    });\n    return urls;\n  }, [config]);\n  \n  const saveConfig = () => {\n    setConfig(tempConfig);\n    localStorage.setItem('dashboardConfig', JSON.stringify(tempConfig));\n    setShowConfig(false);\n  };\n\n  const resetConfig = () => {\n    setTempConfig(config);\n    setShowConfig(false);\n  };\n  \n  const handleUrlChange = (project, value) => {\n    let processedUrl = value;\n    const match = value.match(/\\/spreadsheets\\/d\\/([a-zA-Z0-9-_]+)/);\n    if (match && match[1]) {\n      processedUrl = `https://docs.google.com/spreadsheets/d/${match[1]}`;\n    } else if (value && !value.includes('docs.google.com') && value.length > 20) {\n      processedUrl = `https://docs.google.com/spreadsheets/d/${value}`;\n    }\n    setTempConfig(prev => ({\n      ...prev,\n      [project]: { ...prev[project], url: processedUrl }\n    }));\n  };\n\n  const loadSheetData = async (project, url) => {\n    const response = await fetch(url + '&timestamp=' + Date.now());\n    if (!response.ok) throw new Error(`HTTP error for ${project}: ${response.status}`);\n    const csvData = await response.text();\n    if (!csvData || csvData.trim().startsWith(\"<!DOCTYPE html>\")) {\n      throw new Error(`Received invalid data for ${project} (likely HTML page)`);\n    }\n    return csvData;\n  };\n\n  const processSheetData = (csvData, project) => {\n    const rows = csvData.split('\\n');\n    const headers = rows[0].split(',').map(h => h.trim().replace(/\"/g, ''));\n    const data = rows.slice(1).map(rowStr => {\n      const values = rowStr.split(',');\n      const row = {};\n      headers.forEach((header, index) => {\n        let value = values[index] ? values[index].trim().replace(/\"/g, '') : '';\n        row[header] = header.includes('Users_') ? parseInt(value) || 0 : value;\n      });\n      return row;\n    }).filter(row => row.Date);\n\n    const accountColumns = headers.filter(h => h.startsWith('Account_')).length;\n    if (accountColumns === 0) throw new Error(`No account columns found for ${project}`);\n\n    const creativeHistory = {};\n    const accounts = new Set();\n    data.forEach(row => {\n      for (let i = 1; i <= accountColumns; i++) {\n        const account = row[`Account_${i}`];\n        const creative = row[`Creative_${i}`];\n        const users = row[`Users_${i}`] || 0;\n        if (account && creative) {\n          accounts.add(account);\n          if (!creativeHistory[creative]) {\n            creativeHistory[creative] = { totalUsers: 0, accounts: new Set(), history: [], project };\n          }\n          creativeHistory[creative].totalUsers += users;\n          creativeHistory[creative].accounts.add(account);\n          creativeHistory[creative].history.push({ date: row.Date, account, users });\n        }\n      }\n    });\n\n    Object.values(creativeHistory).forEach(ch => {\n      const uniqueDates = new Set(ch.history.map(h => h.date));\n      ch.daysActive = uniqueDates.size;\n      ch.avgUsersPerDay = ch.daysActive > 0 ? Math.round(ch.totalUsers / ch.daysActive * 10) / 10 : 0;\n    });\n\n    const latestDate = data[data.length - 1]?.Date;\n    const lastDateRow = data.find(row => row.Date === latestDate);\n    const activeCreativesOnLastDate = [];\n    if (lastDateRow) {\n      for (let i = 1; i <= accountColumns; i++) {\n        const creative = lastDateRow[`Creative_${i}`];\n        if (creative) {\n          activeCreativesOnLastDate.push({\n            creative,\n            account: lastDateRow[`Account_${i}`],\n            users: lastDateRow[`Users_${i}`] || 0,\n            project\n          });\n        }\n      }\n    }\n\n    return { latestDate, creativeHistory, accounts: [...accounts], activeCreativesOnLastDate, accountColumns };\n  };\n\n  // 2. Wrap loadData in useCallback\n  const loadData = useCallback(async () => {\n    if (!isConfigured) return;\n\n    setLoading(true);\n    setError(null);\n    try {\n      const projectDataEntries = await Promise.all(\n        Object.entries(GOOGLE_SHEETS_URLS).map(async ([project, url]) => {\n          const csvData = await loadSheetData(project, url);\n          return [project, processSheetData(csvData, project)];\n        })\n      );\n      const processedProjects = Object.fromEntries(projectDataEntries);\n\n      const allCreativeHistory = Object.values(processedProjects).reduce((acc, p) => ({ ...acc, ...p.creativeHistory }), {});\n      const allUniqueCreatives = Object.keys(allCreativeHistory);\n      const allAccounts = [...new Set(Object.values(processedProjects).flatMap(p => p.accounts))];\n      const allActiveCreatives = Object.values(processedProjects).flatMap(p => p.activeCreativesOnLastDate);\n      const combinedLatestDate = Object.values(processedProjects).map(p => p.latestDate).filter(Boolean).sort().reverse()[0];\n\n      const creativeAnalytics = allUniqueCreatives.map(creativeName => {\n        const history = allCreativeHistory[creativeName];\n        const activeInstances = allActiveCreatives.filter(c => c.creative === creativeName);\n        const isActive = activeInstances.length > 0;\n        const currentUsers = isActive ? activeInstances.reduce((sum, item) => sum + item.users, 0) : 0;\n        \n        let performance = 'medium';\n        if (history.totalUsers > 200) performance = 'high';\n        else if (history.totalUsers <= 50 && history.accounts.size > 3 && history.avgUsersPerDay < 2) performance = 'low';\n\n        return {\n          id: creativeName.replace(/[^a-zA-Z0-9]/g, '_'),\n          creative: creativeName,\n          status: isActive ? 'active' : 'free',\n          totalUsers: history.totalUsers,\n          currentUsers,\n          daysActive: history.daysActive,\n          accounts: [...history.accounts],\n          currentAccounts: activeInstances,\n          avgUsersPerDay: history.avgUsersPerDay,\n          performance,\n          project: history.project\n        };\n      }).sort((a, b) => {\n        if (a.status !== b.status) return a.status === 'active' ? -1 : 1;\n        if (a.status === 'active') return b.currentUsers - a.currentUsers;\n        return b.totalUsers - a.totalUsers;\n      });\n\n      const projectStats = {};\n      Object.keys(processedProjects).forEach(projectKey => {\n        projectStats[projectKey] = {\n          totalCreatives: creativeAnalytics.filter(c => c.project === projectKey).length,\n          activeCreatives: creativeAnalytics.filter(c => c.status === 'active' && c.project === projectKey).length,\n          totalUsers: creativeAnalytics.filter(c => c.project === projectKey).reduce((sum, c) => sum + c.totalUsers, 0),\n          currentUsers: allActiveCreatives.filter(item => item.project === projectKey).reduce((sum, item) => sum + item.users, 0),\n          totalAccounts: processedProjects[projectKey].accounts.length\n        };\n      });\n\n      const activeCount = creativeAnalytics.filter(c => c.status === 'active').length;\n\n      setDashboardData({\n        latestDate: combinedLatestDate,\n        creativeAnalytics,\n        allAccounts,\n        projectStats,\n        summary: {\n          totalCreatives: allUniqueCreatives.length,\n          activeCreatives: activeCount,\n          freeCreatives: allUniqueCreatives.length - activeCount,\n          totalAccounts: allAccounts.length,\n          accountColumns: Object.values(processedProjects).reduce((sum, p) => sum + p.accountColumns, 0),\n          totalUsersAllTime: creativeAnalytics.reduce((sum, c) => sum + c.totalUsers, 0),\n          totalCurrentUsers: creativeAnalytics.reduce((sum, c) => sum + c.currentUsers, 0),\n        }\n      });\n      setLastUpdate(new Date().toLocaleString('ru-RU'));\n    } catch (err) {\n      console.error('❌ Critical loading error:', err);\n      setError(err.message);\n    } finally {\n      setLoading(false);\n    }\n  }, [isConfigured, GOOGLE_SHEETS_URLS]); // Dependencies for useCallback\n\n  // 3. Add 'loadData' to the dependency array\n  useEffect(() => {\n    if (isConfigured) {\n      loadData();\n      const interval = setInterval(loadData, 12 * 60 * 60 * 1000); // 12 hours\n      return () => clearInterval(interval);\n    }\n  }, [isConfigured, loadData]);\n\n  const filteredCreatives = useMemo(() => {\n    if (!dashboardData) return [];\n    return dashboardData.creativeAnalytics.filter(c => \n      (c.creative.toLowerCase().includes(searchTerm.toLowerCase()) || c.accounts.some(acc => acc.toLowerCase().includes(searchTerm.toLowerCase()))) &&\n      (statusFilter === 'all' || c.status === statusFilter) &&\n      (accountFilter === 'all' || c.accounts.includes(accountFilter) || c.currentAccounts.some(acc => acc.account === accountFilter)) &&\n      (performanceFilter === 'all' || c.performance === performanceFilter) &&\n      (projectFilter === 'all' || c.project === projectFilter)\n    );\n  }, [dashboardData, searchTerm, statusFilter, accountFilter, performanceFilter, projectFilter]);\n  \n  // --- RENDER LOGIC ---\n  if (!isConfigured && !showConfig) {\n    return (\n      <div style={{minHeight: '100vh', background: 'linear-gradient(135deg, #1f2937, #111827, #1f2937)', color: 'white', display: 'flex', alignItems: 'center', justifyContent: 'center'}}>\n        <div style={{backgroundColor: '#374151', padding: '32px', borderRadius: '12px', boxShadow: '0 25px 50px -12px rgba(0, 0, 0, 0.25)', maxWidth: '672px', width: '100%', margin: '0 16px'}}>\n          <div style={{textAlign: 'center', marginBottom: '32px'}}>\n            <Settings style={{width: '64px', height: '64px', color: '#60a5fa', margin: '0 auto 16px auto'}} />\n            <h1 style={{fontSize: '30px', fontWeight: 'bold', marginBottom: '8px'}}>Добро пожаловать в Multi-Project Dashboard</h1>\n            <p style={{color: '#9ca3af'}}>Настройте ваши Google Таблицы для начала работы</p>\n          </div>\n          <div style={{marginBottom: '24px'}}>\n            <div style={{backgroundColor: 'rgba(30, 58, 138, 0.3)', padding: '16px', borderRadius: '8px', border: '1px solid #2563eb', marginBottom: '24px'}}>\n              <h3 style={{fontWeight: '600', marginBottom: '8px'}}>📋 Инструкция по настройке:</h3>\n              <ol style={{fontSize: '14px', color: '#d1d5db', lineHeight: '1.5', paddingLeft: '16px'}}>\n                <li>1. Откройте вашу Google Таблицу с данными креативов</li>\n                <li>2. Сделайте её публично доступной (Доступ по ссылке)</li>\n                <li>3. Скопируйте URL таблицы и найдите GID каждой вкладки</li>\n                <li>4. Настройте ваши проекты ниже</li>\n              </ol>\n              <div style={{marginTop: '12px', padding: '12px', backgroundColor: 'rgba(34, 197, 94, 0.1)', borderRadius: '6px', border: '1px solid #22c55e'}}>\n                <p style={{fontSize: '14px', color: '#22c55e', marginBottom: '8px', fontWeight: '500'}}>📖 Подробная инструкция:</p>\n                <a href=\"https://docs.google.com/document/d/19d3df8PlQHD735yJjiVV9HhPWxP71NKnzIN84dn8LSg/edit?usp=sharing\" target=\"_blank\" rel=\"noopener noreferrer\" style={{color: '#22c55e', fontSize: '14px', textDecoration: 'underline'}}>Открыть полное руководство по настройке →</a>\n              </div>\n            </div>\n            <button onClick={() => setShowConfig(true)} style={{width: '100%', backgroundColor: '#2563eb', color: 'white', padding: '12px 24px', borderRadius: '8px', border: 'none', fontSize: '16px', cursor: 'pointer', display: 'flex', alignItems: 'center', justifyContent: 'center', gap: '8px'}}>\n              <Settings style={{width: '16px', height: '16px'}} />\n              Настроить Google Таблицы\n            </button>\n          </div>\n        </div>\n      </div>\n    );\n  }\n\n  if (loading && !dashboardData) {\n    return (\n      <div style={{minHeight: '100vh', background: 'linear-gradient(135deg, #1f2937, #111827, #1f2937)', color: 'white', display: 'flex', alignItems: 'center', justifyContent: 'center'}}>\n        <div style={{textAlign: 'center'}}>\n          <RefreshCw style={{width: '48px', height: '48px', color: '#60a5fa', margin: '0 auto 16px auto', animation: 'spin 1s linear infinite'}} />\n          <p style={{fontSize: '20px'}}>Загрузка данных из Google Таблиц...</p>\n          <p style={{fontSize: '14px', color: '#9ca3af', marginTop: '8px'}}>Подключение к настроенным таблицам</p>\n        </div>\n      </div>\n    );\n  }\n\n  if (error) {\n    return (\n      <div style={{minHeight: '100vh', background: 'linear-gradient(135deg, #1f2937, #111827, #1f2937)', color: 'white', display: 'flex', alignItems: 'center', justifyContent: 'center'}}>\n        <div style={{textAlign: 'center'}}>\n          <AlertCircle style={{width: '64px', height: '64px', color: '#f87171', margin: '0 auto 16px auto'}} />\n          <p style={{fontSize: '20px', color: '#f87171'}}>Ошибка подключения</p>\n          <p style={{color: '#9ca3af', marginBottom: '16px'}}>{error}</p>\n          <div style={{display: 'flex', gap: '16px', justifyContent: 'center'}}>\n            <button onClick={loadData} style={{backgroundColor: '#2563eb', color: 'white', padding: '12px 24px', borderRadius: '8px', border: 'none', cursor: 'pointer', display: 'flex', alignItems: 'center', gap: '8px'}}>\n              <RefreshCw style={{width: '16px', height: '16px'}} />\n              Попробовать снова\n            </button>\n            <button onClick={() => { setError(null); setShowConfig(true); }} style={{backgroundColor: '#4b5563', color: 'white', padding: '12px 24px', borderRadius: '8px', border: 'none', cursor: 'pointer', display: 'flex', alignItems: 'center', gap: '8px'}}>\n              <Settings style={{width: '16px', height: '16px'}} />\n              Настроить\n            </button>\n          </div>\n        </div>\n      </div>\n    );\n  }\n\n  if (!dashboardData) return null;\n\n  const stats = dashboardData.summary;\n\n  return (\n    <div style={{minHeight: '100vh', background: 'linear-gradient(135deg, #1f2937, #111827, #1f2937)', color: 'white', padding: '24px'}}>\n      {showConfig && (\n        <div style={{position: 'fixed', top: 0, left: 0, right: 0, bottom: 0, backgroundColor: 'rgba(0,0,0,0.5)', display: 'flex', alignItems: 'center', justifyContent: 'center', zIndex: 9999, padding: '16px'}}>\n          <div style={{backgroundColor: '#374151', borderRadius: '12px', padding: '24px', maxWidth: '896px', width: '100%', maxHeight: '90vh', overflowY: 'auto'}}>\n            <div style={{display: 'flex', justifyContent: 'space-between', alignItems: 'center', marginBottom: '24px'}}>\n              <h2 style={{fontSize: '24px', fontWeight: 'bold'}}>Настройка Google Таблиц</h2>\n              <button onClick={resetConfig} style={{background: 'none', border: 'none', color: '#9ca3af', cursor: 'pointer'}}>\n                <X style={{width: '24px', height: '24px'}} />\n              </button>\n            </div>\n            <div style={{marginBottom: '24px'}}>\n              {Object.entries(tempConfig).map(([projectKey, project]) => (\n                <div key={projectKey} style={{backgroundColor: '#4b5563', padding: '16px', borderRadius: '8px', marginBottom: '24px'}}>\n                  <div style={{display: 'flex', alignItems: 'center', gap: '12px', marginBottom: '16px'}}>\n                    <span style={{fontSize: '24px'}}>{project.emoji}</span>\n                    <input type=\"text\" placeholder=\"Название проекта\" style={{backgroundColor: '#6b7280', color: 'white', padding: '8px 12px', borderRadius: '4px', border: 'none', fontWeight: '600'}} value={project.name} onChange={(e) => setTempConfig(prev => ({...prev, [projectKey]: {...prev[projectKey], name: e.target.value}}))} />\n                  </div>\n                  <div style={{marginBottom: '12px'}}>\n                    <label style={{display: 'block', fontSize: '14px', fontWeight: '500', marginBottom: '8px'}}>URL Google Таблицы или ID таблицы:</label>\n                    <input type=\"text\" placeholder=\"https://docs.google.com/spreadsheets/d/ВАШ_ID_ТАБЛИЦЫ или только ID\" style={{width: '100%', backgroundColor: '#6b7280', color: 'white', padding: '8px 12px', borderRadius: '4px', border: 'none', boxSizing: 'border-box'}} value={project.url} onChange={(e) => handleUrlChange(projectKey, e.target.value)} />\n                    <p style={{fontSize: '12px', color: '#9ca3af', marginTop: '4px'}}>Вставьте полный URL или только ID таблицы</p>\n                  </div>\n                  <div>\n                    <label style={{display: 'block', fontSize: '14px', fontWeight: '500', marginBottom: '8px'}}>GID вкладки (ID вкладки):</label>\n                    <input type=\"text\" placeholder=\"0 (для первой вкладки) или конкретный GID\" style={{width: '100%', backgroundColor: '#6b7280', color: 'white', padding: '8px 12px', borderRadius: '4px', border: 'none', boxSizing: 'border-box'}} value={project.gid} onChange={(e) => setTempConfig(prev => ({...prev, [projectKey]: {...prev[projectKey], gid: e.target.value}}))} />\n                    <p style={{fontSize: '12px', color: '#9ca3af', marginTop: '4px'}}>Найдите в URL при просмотре конкретной вкладки: #gid=123456789</p>\n                  </div>\n                </div>\n              ))}\n            </div>\n            <div style={{display: 'flex', gap: '16px'}}>\n              <button onClick={saveConfig} style={{flex: 1, backgroundColor: '#2563eb', color: 'white', padding: '12px 24px', borderRadius: '8px', border: 'none', cursor: 'pointer', display: 'flex', alignItems: 'center', justifyContent: 'center', gap: '8px'}}>\n                <Save style={{width: '16px', height: '16px'}} />\n                Сохранить настройки\n              </button>\n              <button onClick={resetConfig} style={{padding: '12px 24px', backgroundColor: '#6b7280', color: 'white', borderRadius: '8px', border: 'none', cursor: 'pointer'}}>Отмена</button>\n            </div>\n          </div>\n        </div>\n      )}\n\n      {/* Main Dashboard Content */}\n      <div style={{marginBottom: '32px'}}>\n        {/* Header */}\n        <div style={{display: 'flex', alignItems: 'center', justifyContent: 'space-between', marginBottom: '24px'}}>\n          {/* Left Header */}\n          <div>\n            <h1 style={{fontSize: '36px', fontWeight: 'bold', background: 'linear-gradient(to right, #60a5fa, #a78bfa)', WebkitBackgroundClip: 'text', WebkitTextFillColor: 'transparent', backgroundClip: 'text'}}>Multi-Project Creative Analytics Dashboard</h1>\n            <div style={{display: 'flex', alignItems: 'center', gap: '16px', marginTop: '8px'}}>\n              <p style={{color: '#9ca3af'}}>\n                📅 Последняя дата: <span style={{fontWeight: '600', color: 'white'}}>{dashboardData.latestDate}</span> | 📊 {stats.totalCreatives} креативов | 🏢 {stats.totalAccounts} аккаунтов | 📋 {stats.accountColumns} колонок данных\n              </p>\n              <div style={{display: 'flex', alignItems: 'center', gap: '8px'}}>\n                <button onClick={() => setProjectFilter('all')} style={{padding: '4px 12px', borderRadius: '20px', fontSize: '12px', fontWeight: '500', border: 'none', cursor: 'pointer', backgroundColor: projectFilter === 'all' ? '#2563eb' : '#4b5563', color: 'white'}}>📊 Все проекты</button>\n                {Object.entries(config).map(([projectKey, project]) => (\n                  <button key={projectKey} onClick={() => setProjectFilter(projectKey)} style={{padding: '4px 12px', borderRadius: '20px', fontSize: '12px', fontWeight: '500', border: 'none', cursor: 'pointer', backgroundColor: projectFilter === projectKey ? '#059669' : '#4b5563', color: 'white'}}>\n                    {project.emoji} {project.name} ({dashboardData.projectStats[projectKey]?.activeCreatives || 0})\n                  </button>\n                ))}\n              </div>\n            </div>\n            {lastUpdate && <p style={{fontSize: '12px', color: '#6b7280', marginTop: '4px'}}>🔄 Последнее обновление: {lastUpdate}</p>}\n          </div>\n          {/* Right Header */}\n          <div style={{display: 'flex', alignItems: 'center', gap: '16px'}}>\n            <button onClick={() => setShowConfig(true)} style={{backgroundColor: '#6b7280', color: 'white', padding: '8px 16px', borderRadius: '8px', border: 'none', cursor: 'pointer', display: 'flex', alignItems: 'center', gap: '8px'}}>\n              <Settings style={{width: '16px', height: '16px'}} />\n              Настроить\n            </button>\n            <div style={{textAlign: 'right'}}>\n              <div style={{fontSize: '14px', color: '#9ca3af'}}>Синхронизация с Google Таблицами</div>\n              <div style={{fontSize: '18px', fontWeight: '600', color: '#10b981'}}>{loading ? 'Обновление...' : '✓ Подключено'}</div>\n            </div>\n            <button onClick={loadData} disabled={loading} style={{backgroundColor: loading ? '#6b7280' : '#2563eb', color: 'white', padding: '8px 16px', borderRadius: '8px', border: 'none', cursor: loading ? 'not-allowed' : 'pointer', display: 'flex', alignItems: 'center', gap: '8px'}}>\n              <RefreshCw style={{width: '16px', height: '16px', animation: loading ? 'spin 1s linear infinite' : 'none'}} />\n              Обновить\n            </button>\n          </div>\n        </div>\n        \n        {/* Stats Cards & Filters can go here */}\n      </div>\n\n      {/* Creatives Table */}\n      <div style={{backgroundColor: '#374151', borderRadius: '12px', boxShadow: '0 10px 15px -3px rgba(0, 0, 0, 0.1)', overflow: 'hidden'}}>\n        {/* Table implementation */}\n      </div>\n    </div>\n  );\n}\n\nexport default App;"],"mappings":"6JAAA,MAAO,CAAAA,KAAK,EAAIC,QAAQ,CAAEC,SAAS,CAAEC,OAAO,CAAEC,WAAW,KAAQ,OAAO,CAAE;AAC1E,OAASC,IAAI,CAAEC,KAAK,CAAEC,GAAG,CAAEC,KAAK,CAAEC,MAAM,CAAEC,MAAM,CAAEC,MAAM,CAAEC,SAAS,CAAEC,SAAS,CAAEC,WAAW,CAAEC,QAAQ,CAAEC,IAAI,CAAEC,CAAC,KAAQ,cAAc,CAAC,OAAAC,GAAA,IAAAC,IAAA,CAAAC,IAAA,IAAAC,KAAA,yBAErI,QAAS,CAAAC,GAAGA,CAAA,CAAG,CACb,KAAM,CAACC,UAAU,CAAEC,aAAa,CAAC,CAAGvB,QAAQ,CAAC,EAAE,CAAC,CAChD,KAAM,CAACwB,YAAY,CAAEC,eAAe,CAAC,CAAGzB,QAAQ,CAAC,KAAK,CAAC,CACvD,KAAM,CAAC0B,aAAa,CAAEC,gBAAgB,CAAC,CAAG3B,QAAQ,CAAC,KAAK,CAAC,CACzD,KAAM,CAAC4B,iBAAiB,CAAEC,oBAAoB,CAAC,CAAG7B,QAAQ,CAAC,KAAK,CAAC,CACjE,KAAM,CAAC8B,aAAa,CAAEC,gBAAgB,CAAC,CAAG/B,QAAQ,CAAC,KAAK,CAAC,CAEzD,KAAM,CAACgC,aAAa,CAAEC,gBAAgB,CAAC,CAAGjC,QAAQ,CAAC,IAAI,CAAC,CACxD,KAAM,CAACkC,OAAO,CAAEC,UAAU,CAAC,CAAGnC,QAAQ,CAAC,KAAK,CAAC,CAC7C,KAAM,CAACoC,KAAK,CAAEC,QAAQ,CAAC,CAAGrC,QAAQ,CAAC,IAAI,CAAC,CACxC,KAAM,CAACsC,UAAU,CAAEC,aAAa,CAAC,CAAGvC,QAAQ,CAAC,IAAI,CAAC,CAClD,KAAM,CAACwC,UAAU,CAAEC,aAAa,CAAC,CAAGzC,QAAQ,CAAC,KAAK,CAAC,CAEnD,KAAM,CAAC0C,MAAM,CAAEC,SAAS,CAAC,CAAG3C,QAAQ,CAAC,IAAM,CACzC,KAAM,CAAA4C,KAAK,CAAGC,YAAY,CAACC,OAAO,CAAC,iBAAiB,CAAC,CACrD,GAAIF,KAAK,CAAE,CACT,MAAO,CAAAG,IAAI,CAACC,KAAK,CAACJ,KAAK,CAAC,CAC1B,CACA,MAAO,CACLK,SAAS,CAAE,CAAEC,IAAI,CAAE,WAAW,CAAEC,KAAK,CAAE,IAAI,CAAEC,GAAG,CAAE,EAAE,CAAEC,GAAG,CAAE,GAAI,CAAC,CAChEC,QAAQ,CAAE,CAAEJ,IAAI,CAAE,UAAU,CAAEC,KAAK,CAAE,IAAI,CAAEC,GAAG,CAAE,EAAE,CAAEC,GAAG,CAAE,EAAG,CAC9D,CAAC,CACH,CAAC,CAAC,CAEF,KAAM,CAACE,UAAU,CAAEC,aAAa,CAAC,CAAGxD,QAAQ,CAAC0C,MAAM,CAAC,CAEpD,KAAM,CAAAe,YAAY,CAAGvD,OAAO,CAAC,IAAM,CACjC,MAAO,CAAAwD,MAAM,CAACC,MAAM,CAACjB,MAAM,CAAC,CAACkB,KAAK,CAACC,OAAO,EAAIA,OAAO,CAACT,GAAG,EAAIS,OAAO,CAACR,GAAG,GAAK,EAAE,CAAC,CAClF,CAAC,CAAE,CAACX,MAAM,CAAC,CAAC,CAEZ,KAAM,CAAAoB,kBAAkB,CAAG5D,OAAO,CAAC,IAAM,CACvC,KAAM,CAAA6D,IAAI,CAAG,CAAC,CAAC,CACfL,MAAM,CAACM,OAAO,CAACtB,MAAM,CAAC,CAACuB,OAAO,CAACC,IAAA,EAAoB,IAAnB,CAACC,GAAG,CAAEN,OAAO,CAAC,CAAAK,IAAA,CAC5C,GAAIL,OAAO,CAACT,GAAG,EAAIS,OAAO,CAACR,GAAG,GAAK,EAAE,CAAE,CACrCU,IAAI,CAACI,GAAG,CAAC,IAAAC,MAAA,CAAMP,OAAO,CAACT,GAAG,4BAAAgB,MAAA,CAA0BP,OAAO,CAACR,GAAG,CAAE,CACnE,CACF,CAAC,CAAC,CACF,MAAO,CAAAU,IAAI,CACb,CAAC,CAAE,CAACrB,MAAM,CAAC,CAAC,CAEZ,KAAM,CAAA2B,UAAU,CAAGA,CAAA,GAAM,CACvB1B,SAAS,CAACY,UAAU,CAAC,CACrBV,YAAY,CAACyB,OAAO,CAAC,iBAAiB,CAAEvB,IAAI,CAACwB,SAAS,CAAChB,UAAU,CAAC,CAAC,CACnEd,aAAa,CAAC,KAAK,CAAC,CACtB,CAAC,CAED,KAAM,CAAA+B,WAAW,CAAGA,CAAA,GAAM,CACxBhB,aAAa,CAACd,MAAM,CAAC,CACrBD,aAAa,CAAC,KAAK,CAAC,CACtB,CAAC,CAED,KAAM,CAAAgC,eAAe,CAAGA,CAACZ,OAAO,CAAEa,KAAK,GAAK,CAC1C,GAAI,CAAAC,YAAY,CAAGD,KAAK,CACxB,KAAM,CAAAE,KAAK,CAAGF,KAAK,CAACE,KAAK,CAAC,qCAAqC,CAAC,CAChE,GAAIA,KAAK,EAAIA,KAAK,CAAC,CAAC,CAAC,CAAE,CACrBD,YAAY,2CAAAP,MAAA,CAA6CQ,KAAK,CAAC,CAAC,CAAC,CAAE,CACrE,CAAC,IAAM,IAAIF,KAAK,EAAI,CAACA,KAAK,CAACG,QAAQ,CAAC,iBAAiB,CAAC,EAAIH,KAAK,CAACI,MAAM,CAAG,EAAE,CAAE,CAC3EH,YAAY,2CAAAP,MAAA,CAA6CM,KAAK,CAAE,CAClE,CACAlB,aAAa,CAACuB,IAAI,EAAAC,aAAA,CAAAA,aAAA,IACbD,IAAI,MACP,CAAClB,OAAO,EAAAmB,aAAA,CAAAA,aAAA,IAAQD,IAAI,CAAClB,OAAO,CAAC,MAAET,GAAG,CAAEuB,YAAY,EAAE,EAClD,CAAC,CACL,CAAC,CAED,KAAM,CAAAM,aAAa,CAAG,KAAAA,CAAOpB,OAAO,CAAET,GAAG,GAAK,CAC5C,KAAM,CAAA8B,QAAQ,CAAG,KAAM,CAAAC,KAAK,CAAC/B,GAAG,CAAG,aAAa,CAAGgC,IAAI,CAACC,GAAG,CAAC,CAAC,CAAC,CAC9D,GAAI,CAACH,QAAQ,CAACI,EAAE,CAAE,KAAM,IAAI,CAAAC,KAAK,mBAAAnB,MAAA,CAAmBP,OAAO,OAAAO,MAAA,CAAKc,QAAQ,CAACM,MAAM,CAAE,CAAC,CAClF,KAAM,CAAAC,OAAO,CAAG,KAAM,CAAAP,QAAQ,CAACQ,IAAI,CAAC,CAAC,CACrC,GAAI,CAACD,OAAO,EAAIA,OAAO,CAACE,IAAI,CAAC,CAAC,CAACC,UAAU,CAAC,iBAAiB,CAAC,CAAE,CAC5D,KAAM,IAAI,CAAAL,KAAK,8BAAAnB,MAAA,CAA8BP,OAAO,uBAAqB,CAAC,CAC5E,CACA,MAAO,CAAA4B,OAAO,CAChB,CAAC,CAED,KAAM,CAAAI,gBAAgB,CAAGA,CAACJ,OAAO,CAAE5B,OAAO,GAAK,KAAAiC,KAAA,CAC7C,KAAM,CAAAC,IAAI,CAAGN,OAAO,CAACO,KAAK,CAAC,IAAI,CAAC,CAChC,KAAM,CAAAC,OAAO,CAAGF,IAAI,CAAC,CAAC,CAAC,CAACC,KAAK,CAAC,GAAG,CAAC,CAACE,GAAG,CAACC,CAAC,EAAIA,CAAC,CAACR,IAAI,CAAC,CAAC,CAACS,OAAO,CAAC,IAAI,CAAE,EAAE,CAAC,CAAC,CACvE,KAAM,CAAAC,IAAI,CAAGN,IAAI,CAACO,KAAK,CAAC,CAAC,CAAC,CAACJ,GAAG,CAACK,MAAM,EAAI,CACvC,KAAM,CAAA5C,MAAM,CAAG4C,MAAM,CAACP,KAAK,CAAC,GAAG,CAAC,CAChC,KAAM,CAAAQ,GAAG,CAAG,CAAC,CAAC,CACdP,OAAO,CAAChC,OAAO,CAAC,CAACwC,MAAM,CAAEC,KAAK,GAAK,CACjC,GAAI,CAAAhC,KAAK,CAAGf,MAAM,CAAC+C,KAAK,CAAC,CAAG/C,MAAM,CAAC+C,KAAK,CAAC,CAACf,IAAI,CAAC,CAAC,CAACS,OAAO,CAAC,IAAI,CAAE,EAAE,CAAC,CAAG,EAAE,CACvEI,GAAG,CAACC,MAAM,CAAC,CAAGA,MAAM,CAAC5B,QAAQ,CAAC,QAAQ,CAAC,CAAG8B,QAAQ,CAACjC,KAAK,CAAC,EAAI,CAAC,CAAGA,KAAK,CACxE,CAAC,CAAC,CACF,MAAO,CAAA8B,GAAG,CACZ,CAAC,CAAC,CAACI,MAAM,CAACJ,GAAG,EAAIA,GAAG,CAACpB,IAAI,CAAC,CAE1B,KAAM,CAAAyB,cAAc,CAAGZ,OAAO,CAACW,MAAM,CAACT,CAAC,EAAIA,CAAC,CAACP,UAAU,CAAC,UAAU,CAAC,CAAC,CAACd,MAAM,CAC3E,GAAI+B,cAAc,GAAK,CAAC,CAAE,KAAM,IAAI,CAAAtB,KAAK,iCAAAnB,MAAA,CAAiCP,OAAO,CAAE,CAAC,CAEpF,KAAM,CAAAiD,eAAe,CAAG,CAAC,CAAC,CAC1B,KAAM,CAAAC,QAAQ,CAAG,GAAI,CAAAC,GAAG,CAAC,CAAC,CAC1BX,IAAI,CAACpC,OAAO,CAACuC,GAAG,EAAI,CAClB,IAAK,GAAI,CAAAS,CAAC,CAAG,CAAC,CAAEA,CAAC,EAAIJ,cAAc,CAAEI,CAAC,EAAE,CAAE,CACxC,KAAM,CAAAC,OAAO,CAAGV,GAAG,YAAApC,MAAA,CAAY6C,CAAC,EAAG,CACnC,KAAM,CAAAE,QAAQ,CAAGX,GAAG,aAAApC,MAAA,CAAa6C,CAAC,EAAG,CACrC,KAAM,CAAAG,KAAK,CAAGZ,GAAG,UAAApC,MAAA,CAAU6C,CAAC,EAAG,EAAI,CAAC,CACpC,GAAIC,OAAO,EAAIC,QAAQ,CAAE,CACvBJ,QAAQ,CAACM,GAAG,CAACH,OAAO,CAAC,CACrB,GAAI,CAACJ,eAAe,CAACK,QAAQ,CAAC,CAAE,CAC9BL,eAAe,CAACK,QAAQ,CAAC,CAAG,CAAEG,UAAU,CAAE,CAAC,CAAEP,QAAQ,CAAE,GAAI,CAAAC,GAAG,CAAC,CAAC,CAAEO,OAAO,CAAE,EAAE,CAAE1D,OAAQ,CAAC,CAC1F,CACAiD,eAAe,CAACK,QAAQ,CAAC,CAACG,UAAU,EAAIF,KAAK,CAC7CN,eAAe,CAACK,QAAQ,CAAC,CAACJ,QAAQ,CAACM,GAAG,CAACH,OAAO,CAAC,CAC/CJ,eAAe,CAACK,QAAQ,CAAC,CAACI,OAAO,CAACC,IAAI,CAAC,CAAEC,IAAI,CAAEjB,GAAG,CAACpB,IAAI,CAAE8B,OAAO,CAAEE,KAAM,CAAC,CAAC,CAC5E,CACF,CACF,CAAC,CAAC,CAEF1D,MAAM,CAACC,MAAM,CAACmD,eAAe,CAAC,CAAC7C,OAAO,CAACyD,EAAE,EAAI,CAC3C,KAAM,CAAAC,WAAW,CAAG,GAAI,CAAAX,GAAG,CAACU,EAAE,CAACH,OAAO,CAACrB,GAAG,CAACC,CAAC,EAAIA,CAAC,CAACsB,IAAI,CAAC,CAAC,CACxDC,EAAE,CAACE,UAAU,CAAGD,WAAW,CAACE,IAAI,CAChCH,EAAE,CAACI,cAAc,CAAGJ,EAAE,CAACE,UAAU,CAAG,CAAC,CAAGG,IAAI,CAACC,KAAK,CAACN,EAAE,CAACJ,UAAU,CAAGI,EAAE,CAACE,UAAU,CAAG,EAAE,CAAC,CAAG,EAAE,CAAG,CAAC,CACjG,CAAC,CAAC,CAEF,KAAM,CAAAK,UAAU,EAAAnC,KAAA,CAAGO,IAAI,CAACA,IAAI,CAACvB,MAAM,CAAG,CAAC,CAAC,UAAAgB,KAAA,iBAArBA,KAAA,CAAuBV,IAAI,CAC9C,KAAM,CAAA8C,WAAW,CAAG7B,IAAI,CAAC8B,IAAI,CAAC3B,GAAG,EAAIA,GAAG,CAACpB,IAAI,GAAK6C,UAAU,CAAC,CAC7D,KAAM,CAAAG,yBAAyB,CAAG,EAAE,CACpC,GAAIF,WAAW,CAAE,CACf,IAAK,GAAI,CAAAjB,CAAC,CAAG,CAAC,CAAEA,CAAC,EAAIJ,cAAc,CAAEI,CAAC,EAAE,CAAE,CACxC,KAAM,CAAAE,QAAQ,CAAGe,WAAW,aAAA9D,MAAA,CAAa6C,CAAC,EAAG,CAC7C,GAAIE,QAAQ,CAAE,CACZiB,yBAAyB,CAACZ,IAAI,CAAC,CAC7BL,QAAQ,CACRD,OAAO,CAAEgB,WAAW,YAAA9D,MAAA,CAAY6C,CAAC,EAAG,CACpCG,KAAK,CAAEc,WAAW,UAAA9D,MAAA,CAAU6C,CAAC,EAAG,EAAI,CAAC,CACrCpD,OACF,CAAC,CAAC,CACJ,CACF,CACF,CAEA,MAAO,CAAEoE,UAAU,CAAEnB,eAAe,CAAEC,QAAQ,CAAE,CAAC,GAAGA,QAAQ,CAAC,CAAEqB,yBAAyB,CAAEvB,cAAe,CAAC,CAC5G,CAAC,CAED;AACA,KAAM,CAAAwB,QAAQ,CAAGlI,WAAW,CAAC,SAAY,CACvC,GAAI,CAACsD,YAAY,CAAE,OAEnBtB,UAAU,CAAC,IAAI,CAAC,CAChBE,QAAQ,CAAC,IAAI,CAAC,CACd,GAAI,CACF,KAAM,CAAAiG,kBAAkB,CAAG,KAAM,CAAAC,OAAO,CAACC,GAAG,CAC1C9E,MAAM,CAACM,OAAO,CAACF,kBAAkB,CAAC,CAACoC,GAAG,CAAC,MAAAuC,KAAA,EAA0B,IAAnB,CAAC5E,OAAO,CAAET,GAAG,CAAC,CAAAqF,KAAA,CAC1D,KAAM,CAAAhD,OAAO,CAAG,KAAM,CAAAR,aAAa,CAACpB,OAAO,CAAET,GAAG,CAAC,CACjD,MAAO,CAACS,OAAO,CAAEgC,gBAAgB,CAACJ,OAAO,CAAE5B,OAAO,CAAC,CAAC,CACtD,CAAC,CACH,CAAC,CACD,KAAM,CAAA6E,iBAAiB,CAAGhF,MAAM,CAACiF,WAAW,CAACL,kBAAkB,CAAC,CAEhE,KAAM,CAAAM,kBAAkB,CAAGlF,MAAM,CAACC,MAAM,CAAC+E,iBAAiB,CAAC,CAACG,MAAM,CAAC,CAACC,GAAG,CAAEC,CAAC,GAAA/D,aAAA,CAAAA,aAAA,IAAW8D,GAAG,EAAKC,CAAC,CAACjC,eAAe,CAAG,CAAE,CAAC,CAAC,CAAC,CACtH,KAAM,CAAAkC,kBAAkB,CAAGtF,MAAM,CAACuF,IAAI,CAACL,kBAAkB,CAAC,CAC1D,KAAM,CAAAM,WAAW,CAAG,CAAC,GAAG,GAAI,CAAAlC,GAAG,CAACtD,MAAM,CAACC,MAAM,CAAC+E,iBAAiB,CAAC,CAACS,OAAO,CAACJ,CAAC,EAAIA,CAAC,CAAChC,QAAQ,CAAC,CAAC,CAAC,CAC3F,KAAM,CAAAqC,kBAAkB,CAAG1F,MAAM,CAACC,MAAM,CAAC+E,iBAAiB,CAAC,CAACS,OAAO,CAACJ,CAAC,EAAIA,CAAC,CAACX,yBAAyB,CAAC,CACrG,KAAM,CAAAiB,kBAAkB,CAAG3F,MAAM,CAACC,MAAM,CAAC+E,iBAAiB,CAAC,CAACxC,GAAG,CAAC6C,CAAC,EAAIA,CAAC,CAACd,UAAU,CAAC,CAACrB,MAAM,CAAC0C,OAAO,CAAC,CAACC,IAAI,CAAC,CAAC,CAACC,OAAO,CAAC,CAAC,CAAC,CAAC,CAAC,CAEtH,KAAM,CAAAC,iBAAiB,CAAGT,kBAAkB,CAAC9C,GAAG,CAACwD,YAAY,EAAI,CAC/D,KAAM,CAAAnC,OAAO,CAAGqB,kBAAkB,CAACc,YAAY,CAAC,CAChD,KAAM,CAAAC,eAAe,CAAGP,kBAAkB,CAACxC,MAAM,CAACgD,CAAC,EAAIA,CAAC,CAACzC,QAAQ,GAAKuC,YAAY,CAAC,CACnF,KAAM,CAAAG,QAAQ,CAAGF,eAAe,CAAC7E,MAAM,CAAG,CAAC,CAC3C,KAAM,CAAAgF,YAAY,CAAGD,QAAQ,CAAGF,eAAe,CAACd,MAAM,CAAC,CAACkB,GAAG,CAAEC,IAAI,GAAKD,GAAG,CAAGC,IAAI,CAAC5C,KAAK,CAAE,CAAC,CAAC,CAAG,CAAC,CAE9F,GAAI,CAAA6C,WAAW,CAAG,QAAQ,CAC1B,GAAI1C,OAAO,CAACD,UAAU,CAAG,GAAG,CAAE2C,WAAW,CAAG,MAAM,CAAC,IAC9C,IAAI1C,OAAO,CAACD,UAAU,EAAI,EAAE,EAAIC,OAAO,CAACR,QAAQ,CAACc,IAAI,CAAG,CAAC,EAAIN,OAAO,CAACO,cAAc,CAAG,CAAC,CAAEmC,WAAW,CAAG,KAAK,CAEjH,MAAO,CACLC,EAAE,CAAER,YAAY,CAACtD,OAAO,CAAC,eAAe,CAAE,GAAG,CAAC,CAC9Ce,QAAQ,CAAEuC,YAAY,CACtBlE,MAAM,CAAEqE,QAAQ,CAAG,QAAQ,CAAG,MAAM,CACpCvC,UAAU,CAAEC,OAAO,CAACD,UAAU,CAC9BwC,YAAY,CACZlC,UAAU,CAAEL,OAAO,CAACK,UAAU,CAC9Bb,QAAQ,CAAE,CAAC,GAAGQ,OAAO,CAACR,QAAQ,CAAC,CAC/BoD,eAAe,CAAER,eAAe,CAChC7B,cAAc,CAAEP,OAAO,CAACO,cAAc,CACtCmC,WAAW,CACXpG,OAAO,CAAE0D,OAAO,CAAC1D,OACnB,CAAC,CACH,CAAC,CAAC,CAAC0F,IAAI,CAAC,CAACa,CAAC,CAAEC,CAAC,GAAK,CAChB,GAAID,CAAC,CAAC5E,MAAM,GAAK6E,CAAC,CAAC7E,MAAM,CAAE,MAAO,CAAA4E,CAAC,CAAC5E,MAAM,GAAK,QAAQ,CAAG,CAAC,CAAC,CAAG,CAAC,CAChE,GAAI4E,CAAC,CAAC5E,MAAM,GAAK,QAAQ,CAAE,MAAO,CAAA6E,CAAC,CAACP,YAAY,CAAGM,CAAC,CAACN,YAAY,CACjE,MAAO,CAAAO,CAAC,CAAC/C,UAAU,CAAG8C,CAAC,CAAC9C,UAAU,CACpC,CAAC,CAAC,CAEF,KAAM,CAAAgD,YAAY,CAAG,CAAC,CAAC,CACvB5G,MAAM,CAACuF,IAAI,CAACP,iBAAiB,CAAC,CAACzE,OAAO,CAACsG,UAAU,EAAI,CACnDD,YAAY,CAACC,UAAU,CAAC,CAAG,CACzBC,cAAc,CAAEf,iBAAiB,CAAC7C,MAAM,CAACgD,CAAC,EAAIA,CAAC,CAAC/F,OAAO,GAAK0G,UAAU,CAAC,CAACzF,MAAM,CAC9E2F,eAAe,CAAEhB,iBAAiB,CAAC7C,MAAM,CAACgD,CAAC,EAAIA,CAAC,CAACpE,MAAM,GAAK,QAAQ,EAAIoE,CAAC,CAAC/F,OAAO,GAAK0G,UAAU,CAAC,CAACzF,MAAM,CACxGwC,UAAU,CAAEmC,iBAAiB,CAAC7C,MAAM,CAACgD,CAAC,EAAIA,CAAC,CAAC/F,OAAO,GAAK0G,UAAU,CAAC,CAAC1B,MAAM,CAAC,CAACkB,GAAG,CAAEH,CAAC,GAAKG,GAAG,CAAGH,CAAC,CAACtC,UAAU,CAAE,CAAC,CAAC,CAC7GwC,YAAY,CAAEV,kBAAkB,CAACxC,MAAM,CAACoD,IAAI,EAAIA,IAAI,CAACnG,OAAO,GAAK0G,UAAU,CAAC,CAAC1B,MAAM,CAAC,CAACkB,GAAG,CAAEC,IAAI,GAAKD,GAAG,CAAGC,IAAI,CAAC5C,KAAK,CAAE,CAAC,CAAC,CACvHsD,aAAa,CAAEhC,iBAAiB,CAAC6B,UAAU,CAAC,CAACxD,QAAQ,CAACjC,MACxD,CAAC,CACH,CAAC,CAAC,CAEF,KAAM,CAAA6F,WAAW,CAAGlB,iBAAiB,CAAC7C,MAAM,CAACgD,CAAC,EAAIA,CAAC,CAACpE,MAAM,GAAK,QAAQ,CAAC,CAACV,MAAM,CAE/E7C,gBAAgB,CAAC,CACfgG,UAAU,CAAEoB,kBAAkB,CAC9BI,iBAAiB,CACjBP,WAAW,CACXoB,YAAY,CACZM,OAAO,CAAE,CACPJ,cAAc,CAAExB,kBAAkB,CAAClE,MAAM,CACzC2F,eAAe,CAAEE,WAAW,CAC5BE,aAAa,CAAE7B,kBAAkB,CAAClE,MAAM,CAAG6F,WAAW,CACtDD,aAAa,CAAExB,WAAW,CAACpE,MAAM,CACjC+B,cAAc,CAAEnD,MAAM,CAACC,MAAM,CAAC+E,iBAAiB,CAAC,CAACG,MAAM,CAAC,CAACkB,GAAG,CAAEhB,CAAC,GAAKgB,GAAG,CAAGhB,CAAC,CAAClC,cAAc,CAAE,CAAC,CAAC,CAC9FiE,iBAAiB,CAAErB,iBAAiB,CAACZ,MAAM,CAAC,CAACkB,GAAG,CAAEH,CAAC,GAAKG,GAAG,CAAGH,CAAC,CAACtC,UAAU,CAAE,CAAC,CAAC,CAC9EyD,iBAAiB,CAAEtB,iBAAiB,CAACZ,MAAM,CAAC,CAACkB,GAAG,CAAEH,CAAC,GAAKG,GAAG,CAAGH,CAAC,CAACE,YAAY,CAAE,CAAC,CACjF,CACF,CAAC,CAAC,CACFvH,aAAa,CAAC,GAAI,CAAA6C,IAAI,CAAC,CAAC,CAAC4F,cAAc,CAAC,OAAO,CAAC,CAAC,CACnD,CAAE,MAAOC,GAAG,CAAE,CACZC,OAAO,CAAC9I,KAAK,CAAC,2BAA2B,CAAE6I,GAAG,CAAC,CAC/C5I,QAAQ,CAAC4I,GAAG,CAACE,OAAO,CAAC,CACvB,CAAC,OAAS,CACRhJ,UAAU,CAAC,KAAK,CAAC,CACnB,CACF,CAAC,CAAE,CAACsB,YAAY,CAAEK,kBAAkB,CAAC,CAAC,CAAE;AAExC;AACA7D,SAAS,CAAC,IAAM,CACd,GAAIwD,YAAY,CAAE,CAChB4E,QAAQ,CAAC,CAAC,CACV,KAAM,CAAA+C,QAAQ,CAAGC,WAAW,CAAChD,QAAQ,CAAE,EAAE,CAAG,EAAE,CAAG,EAAE,CAAG,IAAI,CAAC,CAAE;AAC7D,MAAO,IAAMiD,aAAa,CAACF,QAAQ,CAAC,CACtC,CACF,CAAC,CAAE,CAAC3H,YAAY,CAAE4E,QAAQ,CAAC,CAAC,CAE5B,KAAM,CAAAkD,iBAAiB,CAAGrL,OAAO,CAAC,IAAM,CACtC,GAAI,CAAC8B,aAAa,CAAE,MAAO,EAAE,CAC7B,MAAO,CAAAA,aAAa,CAACyH,iBAAiB,CAAC7C,MAAM,CAACgD,CAAC,EAC7C,CAACA,CAAC,CAACzC,QAAQ,CAACqE,WAAW,CAAC,CAAC,CAAC3G,QAAQ,CAACvD,UAAU,CAACkK,WAAW,CAAC,CAAC,CAAC,EAAI5B,CAAC,CAAC7C,QAAQ,CAAC0E,IAAI,CAAC3C,GAAG,EAAIA,GAAG,CAAC0C,WAAW,CAAC,CAAC,CAAC3G,QAAQ,CAACvD,UAAU,CAACkK,WAAW,CAAC,CAAC,CAAC,CAAC,IAC3IhK,YAAY,GAAK,KAAK,EAAIoI,CAAC,CAACpE,MAAM,GAAKhE,YAAY,CAAC,GACpDE,aAAa,GAAK,KAAK,EAAIkI,CAAC,CAAC7C,QAAQ,CAAClC,QAAQ,CAACnD,aAAa,CAAC,EAAIkI,CAAC,CAACO,eAAe,CAACsB,IAAI,CAAC3C,GAAG,EAAIA,GAAG,CAAC5B,OAAO,GAAKxF,aAAa,CAAC,CAAC,GAC9HE,iBAAiB,GAAK,KAAK,EAAIgI,CAAC,CAACK,WAAW,GAAKrI,iBAAiB,CAAC,GACnEE,aAAa,GAAK,KAAK,EAAI8H,CAAC,CAAC/F,OAAO,GAAK/B,aAAa,CACzD,CAAC,CACH,CAAC,CAAE,CAACE,aAAa,CAAEV,UAAU,CAAEE,YAAY,CAAEE,aAAa,CAAEE,iBAAiB,CAAEE,aAAa,CAAC,CAAC,CAE9F;AACA,GAAI,CAAC2B,YAAY,EAAI,CAACjB,UAAU,CAAE,CAChC,mBACEtB,IAAA,QAAKwK,KAAK,CAAE,CAACC,SAAS,CAAE,OAAO,CAAEC,UAAU,CAAE,oDAAoD,CAAEC,KAAK,CAAE,OAAO,CAAEC,OAAO,CAAE,MAAM,CAAEC,UAAU,CAAE,QAAQ,CAAEC,cAAc,CAAE,QAAQ,CAAE,CAAAC,QAAA,cAClL7K,KAAA,QAAKsK,KAAK,CAAE,CAACQ,eAAe,CAAE,SAAS,CAAEC,OAAO,CAAE,MAAM,CAAEC,YAAY,CAAE,MAAM,CAAEC,SAAS,CAAE,uCAAuC,CAAEC,QAAQ,CAAE,OAAO,CAAEC,KAAK,CAAE,MAAM,CAAEC,MAAM,CAAE,QAAQ,CAAE,CAAAP,QAAA,eACtL7K,KAAA,QAAKsK,KAAK,CAAE,CAACe,SAAS,CAAE,QAAQ,CAAEC,YAAY,CAAE,MAAM,CAAE,CAAAT,QAAA,eACtD/K,IAAA,CAACJ,QAAQ,EAAC4K,KAAK,CAAE,CAACa,KAAK,CAAE,MAAM,CAAEI,MAAM,CAAE,MAAM,CAAEd,KAAK,CAAE,SAAS,CAAEW,MAAM,CAAE,kBAAkB,CAAE,CAAE,CAAC,cAClGtL,IAAA,OAAIwK,KAAK,CAAE,CAACkB,QAAQ,CAAE,MAAM,CAAEC,UAAU,CAAE,MAAM,CAAEH,YAAY,CAAE,KAAK,CAAE,CAAAT,QAAA,CAAC,4HAA0C,CAAI,CAAC,cACvH/K,IAAA,MAAGwK,KAAK,CAAE,CAACG,KAAK,CAAE,SAAS,CAAE,CAAAI,QAAA,CAAC,gOAA+C,CAAG,CAAC,EAC9E,CAAC,cACN7K,KAAA,QAAKsK,KAAK,CAAE,CAACgB,YAAY,CAAE,MAAM,CAAE,CAAAT,QAAA,eACjC7K,KAAA,QAAKsK,KAAK,CAAE,CAACQ,eAAe,CAAE,wBAAwB,CAAEC,OAAO,CAAE,MAAM,CAAEC,YAAY,CAAE,KAAK,CAAEU,MAAM,CAAE,mBAAmB,CAAEJ,YAAY,CAAE,MAAM,CAAE,CAAAT,QAAA,eAC/I/K,IAAA,OAAIwK,KAAK,CAAE,CAACmB,UAAU,CAAE,KAAK,CAAEH,YAAY,CAAE,KAAK,CAAE,CAAAT,QAAA,CAAC,gJAA2B,CAAI,CAAC,cACrF7K,KAAA,OAAIsK,KAAK,CAAE,CAACkB,QAAQ,CAAE,MAAM,CAAEf,KAAK,CAAE,SAAS,CAAEkB,UAAU,CAAE,KAAK,CAAEC,WAAW,CAAE,MAAM,CAAE,CAAAf,QAAA,eACtF/K,IAAA,OAAA+K,QAAA,CAAI,yOAAmD,CAAI,CAAC,cAC5D/K,IAAA,OAAA+K,QAAA,CAAI,mQAAoD,CAAI,CAAC,cAC7D/K,IAAA,OAAA+K,QAAA,CAAI,sPAAsD,CAAI,CAAC,cAC/D/K,IAAA,OAAA+K,QAAA,CAAI,wJAA8B,CAAI,CAAC,EACrC,CAAC,cACL7K,KAAA,QAAKsK,KAAK,CAAE,CAACuB,SAAS,CAAE,MAAM,CAAEd,OAAO,CAAE,MAAM,CAAED,eAAe,CAAE,wBAAwB,CAAEE,YAAY,CAAE,KAAK,CAAEU,MAAM,CAAE,mBAAmB,CAAE,CAAAb,QAAA,eAC5I/K,IAAA,MAAGwK,KAAK,CAAE,CAACkB,QAAQ,CAAE,MAAM,CAAEf,KAAK,CAAE,SAAS,CAAEa,YAAY,CAAE,KAAK,CAAEG,UAAU,CAAE,KAAK,CAAE,CAAAZ,QAAA,CAAC,mIAAwB,CAAG,CAAC,cACpH/K,IAAA,MAAGgM,IAAI,CAAC,kGAAkG,CAACC,MAAM,CAAC,QAAQ,CAACC,GAAG,CAAC,qBAAqB,CAAC1B,KAAK,CAAE,CAACG,KAAK,CAAE,SAAS,CAAEe,QAAQ,CAAE,MAAM,CAAES,cAAc,CAAE,WAAW,CAAE,CAAApB,QAAA,CAAC,+NAAyC,CAAG,CAAC,EACzQ,CAAC,EACH,CAAC,cACN7K,KAAA,WAAQkM,OAAO,CAAEA,CAAA,GAAM7K,aAAa,CAAC,IAAI,CAAE,CAACiJ,KAAK,CAAE,CAACa,KAAK,CAAE,MAAM,CAAEL,eAAe,CAAE,SAAS,CAAEL,KAAK,CAAE,OAAO,CAAEM,OAAO,CAAE,WAAW,CAAEC,YAAY,CAAE,KAAK,CAAEU,MAAM,CAAE,MAAM,CAAEF,QAAQ,CAAE,MAAM,CAAEW,MAAM,CAAE,SAAS,CAAEzB,OAAO,CAAE,MAAM,CAAEC,UAAU,CAAE,QAAQ,CAAEC,cAAc,CAAE,QAAQ,CAAEwB,GAAG,CAAE,KAAK,CAAE,CAAAvB,QAAA,eAC1R/K,IAAA,CAACJ,QAAQ,EAAC4K,KAAK,CAAE,CAACa,KAAK,CAAE,MAAM,CAAEI,MAAM,CAAE,MAAM,CAAE,CAAE,CAAC,2GAEtD,EAAQ,CAAC,EACN,CAAC,EACH,CAAC,CACH,CAAC,CAEV,CAEA,GAAIzK,OAAO,EAAI,CAACF,aAAa,CAAE,CAC7B,mBACEd,IAAA,QAAKwK,KAAK,CAAE,CAACC,SAAS,CAAE,OAAO,CAAEC,UAAU,CAAE,oDAAoD,CAAEC,KAAK,CAAE,OAAO,CAAEC,OAAO,CAAE,MAAM,CAAEC,UAAU,CAAE,QAAQ,CAAEC,cAAc,CAAE,QAAQ,CAAE,CAAAC,QAAA,cAClL7K,KAAA,QAAKsK,KAAK,CAAE,CAACe,SAAS,CAAE,QAAQ,CAAE,CAAAR,QAAA,eAChC/K,IAAA,CAACP,SAAS,EAAC+K,KAAK,CAAE,CAACa,KAAK,CAAE,MAAM,CAAEI,MAAM,CAAE,MAAM,CAAEd,KAAK,CAAE,SAAS,CAAEW,MAAM,CAAE,kBAAkB,CAAEiB,SAAS,CAAE,yBAAyB,CAAE,CAAE,CAAC,cACzIvM,IAAA,MAAGwK,KAAK,CAAE,CAACkB,QAAQ,CAAE,MAAM,CAAE,CAAAX,QAAA,CAAC,mJAAmC,CAAG,CAAC,cACrE/K,IAAA,MAAGwK,KAAK,CAAE,CAACkB,QAAQ,CAAE,MAAM,CAAEf,KAAK,CAAE,SAAS,CAAEoB,SAAS,CAAE,KAAK,CAAE,CAAAhB,QAAA,CAAC,+LAAkC,CAAG,CAAC,EACrG,CAAC,CACH,CAAC,CAEV,CAEA,GAAI7J,KAAK,CAAE,CACT,mBACElB,IAAA,QAAKwK,KAAK,CAAE,CAACC,SAAS,CAAE,OAAO,CAAEC,UAAU,CAAE,oDAAoD,CAAEC,KAAK,CAAE,OAAO,CAAEC,OAAO,CAAE,MAAM,CAAEC,UAAU,CAAE,QAAQ,CAAEC,cAAc,CAAE,QAAQ,CAAE,CAAAC,QAAA,cAClL7K,KAAA,QAAKsK,KAAK,CAAE,CAACe,SAAS,CAAE,QAAQ,CAAE,CAAAR,QAAA,eAChC/K,IAAA,CAACL,WAAW,EAAC6K,KAAK,CAAE,CAACa,KAAK,CAAE,MAAM,CAAEI,MAAM,CAAE,MAAM,CAAEd,KAAK,CAAE,SAAS,CAAEW,MAAM,CAAE,kBAAkB,CAAE,CAAE,CAAC,cACrGtL,IAAA,MAAGwK,KAAK,CAAE,CAACkB,QAAQ,CAAE,MAAM,CAAEf,KAAK,CAAE,SAAS,CAAE,CAAAI,QAAA,CAAC,yGAAkB,CAAG,CAAC,cACtE/K,IAAA,MAAGwK,KAAK,CAAE,CAACG,KAAK,CAAE,SAAS,CAAEa,YAAY,CAAE,MAAM,CAAE,CAAAT,QAAA,CAAE7J,KAAK,CAAI,CAAC,cAC/DhB,KAAA,QAAKsK,KAAK,CAAE,CAACI,OAAO,CAAE,MAAM,CAAE0B,GAAG,CAAE,MAAM,CAAExB,cAAc,CAAE,QAAQ,CAAE,CAAAC,QAAA,eACnE7K,KAAA,WAAQkM,OAAO,CAAEjF,QAAS,CAACqD,KAAK,CAAE,CAACQ,eAAe,CAAE,SAAS,CAAEL,KAAK,CAAE,OAAO,CAAEM,OAAO,CAAE,WAAW,CAAEC,YAAY,CAAE,KAAK,CAAEU,MAAM,CAAE,MAAM,CAAES,MAAM,CAAE,SAAS,CAAEzB,OAAO,CAAE,MAAM,CAAEC,UAAU,CAAE,QAAQ,CAAEyB,GAAG,CAAE,KAAK,CAAE,CAAAvB,QAAA,eAC9M/K,IAAA,CAACP,SAAS,EAAC+K,KAAK,CAAE,CAACa,KAAK,CAAE,MAAM,CAAEI,MAAM,CAAE,MAAM,CAAE,CAAE,CAAC,oGAEvD,EAAQ,CAAC,cACTvL,KAAA,WAAQkM,OAAO,CAAEA,CAAA,GAAM,CAAEjL,QAAQ,CAAC,IAAI,CAAC,CAAEI,aAAa,CAAC,IAAI,CAAC,CAAE,CAAE,CAACiJ,KAAK,CAAE,CAACQ,eAAe,CAAE,SAAS,CAAEL,KAAK,CAAE,OAAO,CAAEM,OAAO,CAAE,WAAW,CAAEC,YAAY,CAAE,KAAK,CAAEU,MAAM,CAAE,MAAM,CAAES,MAAM,CAAE,SAAS,CAAEzB,OAAO,CAAE,MAAM,CAAEC,UAAU,CAAE,QAAQ,CAAEyB,GAAG,CAAE,KAAK,CAAE,CAAAvB,QAAA,eACpP/K,IAAA,CAACJ,QAAQ,EAAC4K,KAAK,CAAE,CAACa,KAAK,CAAE,MAAM,CAAEI,MAAM,CAAE,MAAM,CAAE,CAAE,CAAC,yDAEtD,EAAQ,CAAC,EACN,CAAC,EACH,CAAC,CACH,CAAC,CAEV,CAEA,GAAI,CAAC3K,aAAa,CAAE,MAAO,KAAI,CAE/B,KAAM,CAAA0L,KAAK,CAAG1L,aAAa,CAAC4I,OAAO,CAEnC,mBACExJ,KAAA,QAAKsK,KAAK,CAAE,CAACC,SAAS,CAAE,OAAO,CAAEC,UAAU,CAAE,oDAAoD,CAAEC,KAAK,CAAE,OAAO,CAAEM,OAAO,CAAE,MAAM,CAAE,CAAAF,QAAA,EACjIzJ,UAAU,eACTtB,IAAA,QAAKwK,KAAK,CAAE,CAACiC,QAAQ,CAAE,OAAO,CAAEC,GAAG,CAAE,CAAC,CAAEC,IAAI,CAAE,CAAC,CAAEC,KAAK,CAAE,CAAC,CAAEC,MAAM,CAAE,CAAC,CAAE7B,eAAe,CAAE,iBAAiB,CAAEJ,OAAO,CAAE,MAAM,CAAEC,UAAU,CAAE,QAAQ,CAAEC,cAAc,CAAE,QAAQ,CAAEgC,MAAM,CAAE,IAAI,CAAE7B,OAAO,CAAE,MAAM,CAAE,CAAAF,QAAA,cACxM7K,KAAA,QAAKsK,KAAK,CAAE,CAACQ,eAAe,CAAE,SAAS,CAAEE,YAAY,CAAE,MAAM,CAAED,OAAO,CAAE,MAAM,CAAEG,QAAQ,CAAE,OAAO,CAAEC,KAAK,CAAE,MAAM,CAAE0B,SAAS,CAAE,MAAM,CAAEC,SAAS,CAAE,MAAM,CAAE,CAAAjC,QAAA,eACtJ7K,KAAA,QAAKsK,KAAK,CAAE,CAACI,OAAO,CAAE,MAAM,CAAEE,cAAc,CAAE,eAAe,CAAED,UAAU,CAAE,QAAQ,CAAEW,YAAY,CAAE,MAAM,CAAE,CAAAT,QAAA,eACzG/K,IAAA,OAAIwK,KAAK,CAAE,CAACkB,QAAQ,CAAE,MAAM,CAAEC,UAAU,CAAE,MAAM,CAAE,CAAAZ,QAAA,CAAC,oGAAuB,CAAI,CAAC,cAC/E/K,IAAA,WAAQoM,OAAO,CAAE9I,WAAY,CAACkH,KAAK,CAAE,CAACE,UAAU,CAAE,MAAM,CAAEkB,MAAM,CAAE,MAAM,CAAEjB,KAAK,CAAE,SAAS,CAAE0B,MAAM,CAAE,SAAS,CAAE,CAAAtB,QAAA,cAC7G/K,IAAA,CAACF,CAAC,EAAC0K,KAAK,CAAE,CAACa,KAAK,CAAE,MAAM,CAAEI,MAAM,CAAE,MAAM,CAAE,CAAE,CAAC,CACvC,CAAC,EACN,CAAC,cACNzL,IAAA,QAAKwK,KAAK,CAAE,CAACgB,YAAY,CAAE,MAAM,CAAE,CAAAT,QAAA,CAChCvI,MAAM,CAACM,OAAO,CAACT,UAAU,CAAC,CAAC2C,GAAG,CAACiI,KAAA,MAAC,CAAC5D,UAAU,CAAE1G,OAAO,CAAC,CAAAsK,KAAA,oBACpD/M,KAAA,QAAsBsK,KAAK,CAAE,CAACQ,eAAe,CAAE,SAAS,CAAEC,OAAO,CAAE,MAAM,CAAEC,YAAY,CAAE,KAAK,CAAEM,YAAY,CAAE,MAAM,CAAE,CAAAT,QAAA,eACpH7K,KAAA,QAAKsK,KAAK,CAAE,CAACI,OAAO,CAAE,MAAM,CAAEC,UAAU,CAAE,QAAQ,CAAEyB,GAAG,CAAE,MAAM,CAAEd,YAAY,CAAE,MAAM,CAAE,CAAAT,QAAA,eACrF/K,IAAA,SAAMwK,KAAK,CAAE,CAACkB,QAAQ,CAAE,MAAM,CAAE,CAAAX,QAAA,CAAEpI,OAAO,CAACV,KAAK,CAAO,CAAC,cACvDjC,IAAA,UAAOkN,IAAI,CAAC,MAAM,CAACC,WAAW,CAAC,6FAAkB,CAAC3C,KAAK,CAAE,CAACQ,eAAe,CAAE,SAAS,CAAEL,KAAK,CAAE,OAAO,CAAEM,OAAO,CAAE,UAAU,CAAEC,YAAY,CAAE,KAAK,CAAEU,MAAM,CAAE,MAAM,CAAED,UAAU,CAAE,KAAK,CAAE,CAACnI,KAAK,CAAEb,OAAO,CAACX,IAAK,CAACoL,QAAQ,CAAGC,CAAC,EAAK/K,aAAa,CAACuB,IAAI,EAAAC,aAAA,CAAAA,aAAA,IAASD,IAAI,MAAE,CAACwF,UAAU,EAAAvF,aAAA,CAAAA,aAAA,IAAOD,IAAI,CAACwF,UAAU,CAAC,MAAErH,IAAI,CAAEqL,CAAC,CAACpB,MAAM,CAACzI,KAAK,EAAC,EAAE,CAAE,CAAE,CAAC,EACxT,CAAC,cACNtD,KAAA,QAAKsK,KAAK,CAAE,CAACgB,YAAY,CAAE,MAAM,CAAE,CAAAT,QAAA,eACjC/K,IAAA,UAAOwK,KAAK,CAAE,CAACI,OAAO,CAAE,OAAO,CAAEc,QAAQ,CAAE,MAAM,CAAEC,UAAU,CAAE,KAAK,CAAEH,YAAY,CAAE,KAAK,CAAE,CAAAT,QAAA,CAAC,yHAAkC,CAAO,CAAC,cACtI/K,IAAA,UAAOkN,IAAI,CAAC,MAAM,CAACC,WAAW,CAAC,oKAAqE,CAAC3C,KAAK,CAAE,CAACa,KAAK,CAAE,MAAM,CAAEL,eAAe,CAAE,SAAS,CAAEL,KAAK,CAAE,OAAO,CAAEM,OAAO,CAAE,UAAU,CAAEC,YAAY,CAAE,KAAK,CAAEU,MAAM,CAAE,MAAM,CAAE0B,SAAS,CAAE,YAAY,CAAE,CAAC9J,KAAK,CAAEb,OAAO,CAACT,GAAI,CAACkL,QAAQ,CAAGC,CAAC,EAAK9J,eAAe,CAAC8F,UAAU,CAAEgE,CAAC,CAACpB,MAAM,CAACzI,KAAK,CAAE,CAAE,CAAC,cAChVxD,IAAA,MAAGwK,KAAK,CAAE,CAACkB,QAAQ,CAAE,MAAM,CAAEf,KAAK,CAAE,SAAS,CAAEoB,SAAS,CAAE,KAAK,CAAE,CAAAhB,QAAA,CAAC,iMAAyC,CAAG,CAAC,EAC5G,CAAC,cACN7K,KAAA,QAAA6K,QAAA,eACE/K,IAAA,UAAOwK,KAAK,CAAE,CAACI,OAAO,CAAE,OAAO,CAAEc,QAAQ,CAAE,MAAM,CAAEC,UAAU,CAAE,KAAK,CAAEH,YAAY,CAAE,KAAK,CAAE,CAAAT,QAAA,CAAC,iGAAyB,CAAO,CAAC,cAC7H/K,IAAA,UAAOkN,IAAI,CAAC,MAAM,CAACC,WAAW,CAAC,4LAA2C,CAAC3C,KAAK,CAAE,CAACa,KAAK,CAAE,MAAM,CAAEL,eAAe,CAAE,SAAS,CAAEL,KAAK,CAAE,OAAO,CAAEM,OAAO,CAAE,UAAU,CAAEC,YAAY,CAAE,KAAK,CAAEU,MAAM,CAAE,MAAM,CAAE0B,SAAS,CAAE,YAAY,CAAE,CAAC9J,KAAK,CAAEb,OAAO,CAACR,GAAI,CAACiL,QAAQ,CAAGC,CAAC,EAAK/K,aAAa,CAACuB,IAAI,EAAAC,aAAA,CAAAA,aAAA,IAASD,IAAI,MAAE,CAACwF,UAAU,EAAAvF,aAAA,CAAAA,aAAA,IAAOD,IAAI,CAACwF,UAAU,CAAC,MAAElH,GAAG,CAAEkL,CAAC,CAACpB,MAAM,CAACzI,KAAK,EAAC,EAAE,CAAE,CAAE,CAAC,cACvWxD,IAAA,MAAGwK,KAAK,CAAE,CAACkB,QAAQ,CAAE,MAAM,CAAEf,KAAK,CAAE,SAAS,CAAEoB,SAAS,CAAE,KAAK,CAAE,CAAAhB,QAAA,CAAC,yPAA8D,CAAG,CAAC,EACjI,CAAC,GAdE1B,UAeL,CAAC,EACP,CAAC,CACC,CAAC,cACNnJ,KAAA,QAAKsK,KAAK,CAAE,CAACI,OAAO,CAAE,MAAM,CAAE0B,GAAG,CAAE,MAAM,CAAE,CAAAvB,QAAA,eACzC7K,KAAA,WAAQkM,OAAO,CAAEjJ,UAAW,CAACqH,KAAK,CAAE,CAAC+C,IAAI,CAAE,CAAC,CAAEvC,eAAe,CAAE,SAAS,CAAEL,KAAK,CAAE,OAAO,CAAEM,OAAO,CAAE,WAAW,CAAEC,YAAY,CAAE,KAAK,CAAEU,MAAM,CAAE,MAAM,CAAES,MAAM,CAAE,SAAS,CAAEzB,OAAO,CAAE,MAAM,CAAEC,UAAU,CAAE,QAAQ,CAAEC,cAAc,CAAE,QAAQ,CAAEwB,GAAG,CAAE,KAAK,CAAE,CAAAvB,QAAA,eACnP/K,IAAA,CAACH,IAAI,EAAC2K,KAAK,CAAE,CAACa,KAAK,CAAE,MAAM,CAAEI,MAAM,CAAE,MAAM,CAAE,CAAE,CAAC,gHAElD,EAAQ,CAAC,cACTzL,IAAA,WAAQoM,OAAO,CAAE9I,WAAY,CAACkH,KAAK,CAAE,CAACS,OAAO,CAAE,WAAW,CAAED,eAAe,CAAE,SAAS,CAAEL,KAAK,CAAE,OAAO,CAAEO,YAAY,CAAE,KAAK,CAAEU,MAAM,CAAE,MAAM,CAAES,MAAM,CAAE,SAAS,CAAE,CAAAtB,QAAA,CAAC,sCAAM,CAAQ,CAAC,EAC7K,CAAC,EACH,CAAC,CACH,CACN,cAGD/K,IAAA,QAAKwK,KAAK,CAAE,CAACgB,YAAY,CAAE,MAAM,CAAE,CAAAT,QAAA,cAEjC7K,KAAA,QAAKsK,KAAK,CAAE,CAACI,OAAO,CAAE,MAAM,CAAEC,UAAU,CAAE,QAAQ,CAAEC,cAAc,CAAE,eAAe,CAAEU,YAAY,CAAE,MAAM,CAAE,CAAAT,QAAA,eAEzG7K,KAAA,QAAA6K,QAAA,eACE/K,IAAA,OAAIwK,KAAK,CAAE,CAACkB,QAAQ,CAAE,MAAM,CAAEC,UAAU,CAAE,MAAM,CAAEjB,UAAU,CAAE,6CAA6C,CAAE8C,oBAAoB,CAAE,MAAM,CAAEC,mBAAmB,CAAE,aAAa,CAAEC,cAAc,CAAE,MAAM,CAAE,CAAA3C,QAAA,CAAC,4CAA0C,CAAI,CAAC,cACvP7K,KAAA,QAAKsK,KAAK,CAAE,CAACI,OAAO,CAAE,MAAM,CAAEC,UAAU,CAAE,QAAQ,CAAEyB,GAAG,CAAE,MAAM,CAAEP,SAAS,CAAE,KAAK,CAAE,CAAAhB,QAAA,eACjF7K,KAAA,MAAGsK,KAAK,CAAE,CAACG,KAAK,CAAE,SAAS,CAAE,CAAAI,QAAA,EAAC,gGACT,cAAA/K,IAAA,SAAMwK,KAAK,CAAE,CAACmB,UAAU,CAAE,KAAK,CAAEhB,KAAK,CAAE,OAAO,CAAE,CAAAI,QAAA,CAAEjK,aAAa,CAACiG,UAAU,CAAO,CAAC,mBAAM,CAACyF,KAAK,CAAClD,cAAc,CAAC,yEAAgB,CAACkD,KAAK,CAAChD,aAAa,CAAC,yEAAgB,CAACgD,KAAK,CAAC7G,cAAc,CAAC,kFAC/M,EAAG,CAAC,cACJzF,KAAA,QAAKsK,KAAK,CAAE,CAACI,OAAO,CAAE,MAAM,CAAEC,UAAU,CAAE,QAAQ,CAAEyB,GAAG,CAAE,KAAK,CAAE,CAAAvB,QAAA,eAC9D/K,IAAA,WAAQoM,OAAO,CAAEA,CAAA,GAAMvL,gBAAgB,CAAC,KAAK,CAAE,CAAC2J,KAAK,CAAE,CAACS,OAAO,CAAE,UAAU,CAAEC,YAAY,CAAE,MAAM,CAAEQ,QAAQ,CAAE,MAAM,CAAEC,UAAU,CAAE,KAAK,CAAEC,MAAM,CAAE,MAAM,CAAES,MAAM,CAAE,SAAS,CAAErB,eAAe,CAAEpK,aAAa,GAAK,KAAK,CAAG,SAAS,CAAG,SAAS,CAAE+J,KAAK,CAAE,OAAO,CAAE,CAAAI,QAAA,CAAC,4EAAc,CAAQ,CAAC,CACpRvI,MAAM,CAACM,OAAO,CAACtB,MAAM,CAAC,CAACwD,GAAG,CAAC2I,KAAA,OAAAC,qBAAA,IAAC,CAACvE,UAAU,CAAE1G,OAAO,CAAC,CAAAgL,KAAA,oBAChDzN,KAAA,WAAyBkM,OAAO,CAAEA,CAAA,GAAMvL,gBAAgB,CAACwI,UAAU,CAAE,CAACmB,KAAK,CAAE,CAACS,OAAO,CAAE,UAAU,CAAEC,YAAY,CAAE,MAAM,CAAEQ,QAAQ,CAAE,MAAM,CAAEC,UAAU,CAAE,KAAK,CAAEC,MAAM,CAAE,MAAM,CAAES,MAAM,CAAE,SAAS,CAAErB,eAAe,CAAEpK,aAAa,GAAKyI,UAAU,CAAG,SAAS,CAAG,SAAS,CAAEsB,KAAK,CAAE,OAAO,CAAE,CAAAI,QAAA,EACrRpI,OAAO,CAACV,KAAK,CAAC,GAAC,CAACU,OAAO,CAACX,IAAI,CAAC,IAAE,CAAC,EAAA4L,qBAAA,CAAA9M,aAAa,CAACsI,YAAY,CAACC,UAAU,CAAC,UAAAuE,qBAAA,iBAAtCA,qBAAA,CAAwCrE,eAAe,GAAI,CAAC,CAAC,GAChG,GAFaF,UAEL,CAAC,EACV,CAAC,EACC,CAAC,EACH,CAAC,CACLjI,UAAU,eAAIlB,KAAA,MAAGsK,KAAK,CAAE,CAACkB,QAAQ,CAAE,MAAM,CAAEf,KAAK,CAAE,SAAS,CAAEoB,SAAS,CAAE,KAAK,CAAE,CAAAhB,QAAA,EAAC,oIAAyB,CAAC3J,UAAU,EAAI,CAAC,EACvH,CAAC,cAENlB,KAAA,QAAKsK,KAAK,CAAE,CAACI,OAAO,CAAE,MAAM,CAAEC,UAAU,CAAE,QAAQ,CAAEyB,GAAG,CAAE,MAAM,CAAE,CAAAvB,QAAA,eAC/D7K,KAAA,WAAQkM,OAAO,CAAEA,CAAA,GAAM7K,aAAa,CAAC,IAAI,CAAE,CAACiJ,KAAK,CAAE,CAACQ,eAAe,CAAE,SAAS,CAAEL,KAAK,CAAE,OAAO,CAAEM,OAAO,CAAE,UAAU,CAAEC,YAAY,CAAE,KAAK,CAAEU,MAAM,CAAE,MAAM,CAAES,MAAM,CAAE,SAAS,CAAEzB,OAAO,CAAE,MAAM,CAAEC,UAAU,CAAE,QAAQ,CAAEyB,GAAG,CAAE,KAAK,CAAE,CAAAvB,QAAA,eAC9N/K,IAAA,CAACJ,QAAQ,EAAC4K,KAAK,CAAE,CAACa,KAAK,CAAE,MAAM,CAAEI,MAAM,CAAE,MAAM,CAAE,CAAE,CAAC,yDAEtD,EAAQ,CAAC,cACTvL,KAAA,QAAKsK,KAAK,CAAE,CAACe,SAAS,CAAE,OAAO,CAAE,CAAAR,QAAA,eAC/B/K,IAAA,QAAKwK,KAAK,CAAE,CAACkB,QAAQ,CAAE,MAAM,CAAEf,KAAK,CAAE,SAAS,CAAE,CAAAI,QAAA,CAAC,qJAAgC,CAAK,CAAC,cACxF/K,IAAA,QAAKwK,KAAK,CAAE,CAACkB,QAAQ,CAAE,MAAM,CAAEC,UAAU,CAAE,KAAK,CAAEhB,KAAK,CAAE,SAAS,CAAE,CAAAI,QAAA,CAAE/J,OAAO,CAAG,eAAe,CAAG,cAAc,CAAM,CAAC,EACpH,CAAC,cACNd,KAAA,WAAQkM,OAAO,CAAEjF,QAAS,CAAC0G,QAAQ,CAAE7M,OAAQ,CAACwJ,KAAK,CAAE,CAACQ,eAAe,CAAEhK,OAAO,CAAG,SAAS,CAAG,SAAS,CAAE2J,KAAK,CAAE,OAAO,CAAEM,OAAO,CAAE,UAAU,CAAEC,YAAY,CAAE,KAAK,CAAEU,MAAM,CAAE,MAAM,CAAES,MAAM,CAAErL,OAAO,CAAG,aAAa,CAAG,SAAS,CAAE4J,OAAO,CAAE,MAAM,CAAEC,UAAU,CAAE,QAAQ,CAAEyB,GAAG,CAAE,KAAK,CAAE,CAAAvB,QAAA,eAChR/K,IAAA,CAACP,SAAS,EAAC+K,KAAK,CAAE,CAACa,KAAK,CAAE,MAAM,CAAEI,MAAM,CAAE,MAAM,CAAEc,SAAS,CAAEvL,OAAO,CAAG,yBAAyB,CAAG,MAAM,CAAE,CAAE,CAAC,mDAEhH,EAAQ,CAAC,EACN,CAAC,EACH,CAAC,CAGH,CAAC,cAGNhB,IAAA,QAAKwK,KAAK,CAAE,CAACQ,eAAe,CAAE,SAAS,CAAEE,YAAY,CAAE,MAAM,CAAEC,SAAS,CAAE,qCAAqC,CAAE2C,QAAQ,CAAE,QAAQ,CAAE,CAEhI,CAAC,EACH,CAAC,CAEV,CAEA,cAAe,CAAA3N,GAAG","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}